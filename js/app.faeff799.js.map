{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/ChatContainer.vue?c69f","webpack:///../src/ChatWindow/RoomsList.vue?f743","webpack:///../src/ChatWindow/Loader.vue?5715","webpack:///../src/ChatWindow/SvgIcon.vue?5b6e","webpack:///./src/App.vue?4775","webpack:///./src/firestore/index.js","webpack:///./src/ChatContainer.vue?c45f","webpack:///./src/utils/dates.js","webpack:///../src/ChatWindow/ChatWindow.vue?4ac2","webpack:///../src/ChatWindow/RoomsList.vue?81b6","webpack:///../src/ChatWindow/Loader.vue?69e7","webpack:///../src/ChatWindow/Loader.vue","webpack:///../src/ChatWindow/Loader.vue?bd7a","webpack:///../src/ChatWindow/Loader.vue?f4ea","webpack:///../src/ChatWindow/SvgIcon.vue?d5ec","webpack:///../src/ChatWindow/SvgIcon.vue","webpack:///../src/ChatWindow/SvgIcon.vue?f610","webpack:///../src/ChatWindow/SvgIcon.vue?a33d","webpack:///../src/ChatWindow/FormatMessage.vue?d58c","webpack:///../src/utils/formatString.js","webpack:///../src/ChatWindow/FormatMessage.vue","webpack:///../src/ChatWindow/FormatMessage.vue?5fbc","webpack:///../src/ChatWindow/FormatMessage.vue?257a","webpack:///../src/utils/filterItems.js","webpack:///../src/ChatWindow/RoomsList.vue","webpack:///../src/ChatWindow/RoomsList.vue?ef85","webpack:///../src/ChatWindow/RoomsList.vue?6603","webpack:///../src/ChatWindow/Room.vue?d52a","webpack:///../src/ChatWindow/Message.vue?35c3","webpack:///../src/ChatWindow/EmojiPicker.vue?3177","webpack:///../src/ChatWindow/EmojiPicker.vue","webpack:///../src/ChatWindow/EmojiPicker.vue?4fe9","webpack:///../src/ChatWindow/EmojiPicker.vue?54f4","webpack:///../src/ChatWindow/Message.vue","webpack:///../src/ChatWindow/Message.vue?16bf","webpack:///../src/ChatWindow/Message.vue?495e","webpack:///../src/ChatWindow/Room.vue","webpack:///../src/ChatWindow/Room.vue?4339","webpack:///../src/ChatWindow/Room.vue?ef29","webpack:///../src/locales/index.js","webpack:///../src/themes/index.js","webpack:///../src/ChatWindow/ChatWindow.vue","webpack:///../src/ChatWindow/ChatWindow.vue?9b52","webpack:///../src/ChatWindow/ChatWindow.vue?c7d7","webpack:///../src/ChatWindow/index.js","webpack:///src/ChatContainer.vue","webpack:///./src/ChatContainer.vue?e975","webpack:///./src/ChatContainer.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?f446","webpack:///../src/utils/roomValidation.js","webpack:///../src/ChatWindow/ChatWindow.vue?3605","webpack:///../src/ChatWindow/FormatMessage.vue?1281","webpack:///../src/utils/mobileDetection.js","webpack:///../src/ChatWindow/Room.vue?3f72","webpack:///../src/ChatWindow/Message.vue?6e92","webpack:///./src/assets/logo.png","webpack:///../src/ChatWindow/EmojiPicker.vue?f05d"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","rawName","expression","on","$event","$$selectedVal","Array","filter","target","options","selected","map","val","_value","currentUserId","multiple","_l","user","_id","domProps","_s","username","theme","attrs","_e","staticRenderFns","config","JSON","parse","process","app","firebase","db","storageRef","ref","usersRef","collection","roomsRef","filesRef","child","deleteDbField","firestore","FieldValue","serverTimestamp","preventDefault","createRoom","composing","addRoomUsername","disableForm","addNewRoom","addRoomUser","invitedUsername","inviteRoomId","deleteRoomUser","removeUserId","removeRoomId","styles","rooms","loadingRooms","messages","messagesLoaded","menuActions","fetchMessages","sendMessage","editMessage","deleteMessage","openFile","addRoom","menuActionHandler","messageActionHandler","sendMessageReaction","typingMessage","parseTimestamp","timestamp","format","date","seconds","Date","zeroPad","getHours","getMinutes","month","year","day","Intl","DateTimeFormat","num","pad","String","padStart","isSameDay","d1","d2","getFullYear","getMonth","getDate","style","height","cssVars","singleRoom","orderedRooms","room","showAddRoom","showRoomsList","textFormatting","isMobile","fetchRoom","scopedSlots","_u","fn","_t","proxy","roomId","roomMessage","messageActions","showFiles","showEmojis","showReactionEmojis","$listeners","roomInfo","toggleRoomsList","class","textMessages","SEARCH","searchRoom","ROOMS_EMPTY","selectedRoomId","openRoom","userStatus","roomName","lastMessage","new","getLastMessage","deleted","infinite","component","svgId","svgItem","find","item","path","singleLine","message","checkType","tag","href","content","linkify","require","text","doLinkify","json","compileToJSON","html","compileToHTML","flatten","flattenResult","concat","markdownResult","linkifyResult","type_markdown","bold","italic","strike","underline","pseudo_markdown","end","allowed_chars","type","str","min_index_of","min_index_of_key","keys","forEach","starting_value","io","indexOf","str_left","substr","char","str_right","match","RegExp","start","types","parseContent","it","array","arr","a","isInline","isMultiline","markdown","links","spaces","replace","items","prop","v","toLowerCase","normalize","$emit","typingUsers","IS_TYPING","menuOpened","action","title","loadingMessages","MESSAGES_EMPTY","CONVERSATION_STARTED","loadMoreMessages","slot","editedMessage","users","$refs","roomFooter","newMessages","emojisList","hideOptions","addNewMessage","scrollToBottom","isImageCheck","messageReply","file","url","resetMessage","resetImageFile","imageFile","imageDimensions","width","TYPE_MESSAGE","onChangeInput","_k","keyCode","ctrlKey","shiftKey","altKey","metaKey","emojiOpened","addEmoji","launchFilePicker","staticStyle","onFileChange","files","inputDisabled","newMessage","NEW_MESSAGES","sender_id","messageOffset","isMessageHover","onHoverMessage","onLeaveMessage","roomUsers","replyMessage","replyUsername","MESSAGE_DELETED","top","imageResponsive","isImageLoading","imageHover","stopPropagation","edited","isImage","filteredMessageActions","isMessageActions","isMessageReactions","openOptions","right","roomFooterRef","openEmoji","menuOptionsTop","reaction","float","getEmojiByName","search","append","clickEvent","events","click","emojiReaction","emojis","insert","emojiPickerHeight","positionTop","emojiPickerTop","emojiPickerRight","display","emojiGroup","category","emoji","emojiName","IS_ONLINE","LAST_SEEN","defaultThemeStyles","light","general","color","backgroundInput","colorPlaceholder","colorCaret","colorSpinner","borderStyle","backgroundScrollIcon","container","border","borderRadius","boxShadow","header","background","colorRoomName","colorRoomInfo","footer","borderStyleInput","borderInputSelected","backgroundReply","sidemenu","backgroundHover","backgroundActive","colorActive","borderColorSearch","dropdown","backgroundMe","colorStarted","backgroundDeleted","colorDeleted","colorUsername","colorTimestamp","backgroundDate","colorDate","colorReplyUsername","colorReply","backgroundImage","colorNewMessages","backgroundReaction","borderStyleReaction","backgroundReactionHover","borderStyleReactionHover","colorReactionCounter","backgroundReactionMe","borderStyleReactionMe","backgroundReactionHoverMe","borderStyleReactionHoverMe","colorReactionCounterMe","colorMulti","colorMessage","colorStateOnline","colorStateOffline","icons","add","toggle","menu","close","closeImage","paperclip","closeOutline","send","sendDisabled","document","pencil","checkmark","eye","dropdownMessage","dropdownMessageBackground","dropdownScroll","dark","cssThemeVars","ChatWindow","configurable","Vue","productionTip","render","h","App","$mount","roomsValid","obj","roomsValidate","validate","props","every","validType","isArray","checkObjectValid","partcipantsValid","participantsValidate","messagesValid","undefined","detectMobile","userAgent","getUserAgent","userAgentPart","test","navigator","vendor","opera","Error"],"mappings":"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ACA,UACA,gBAGA,YACA,6BAGA,OACA,iDACA,uCACA,sCACA,yCACA,oCACA,+BACA,0CACA,kCACA,0BACA,0CACA,qCACA,wCACA,qCACA,sCACA,8CACA,0CACA,wCACA,0BAGA,KAnCA,WAoCA,OACA,WACA,iBACA,kBACA,mBACA,mBACA,uBACA,UACA,eACA,qBACA,cACA,eACA,cACA,eACA,cACA,iBAIA,QAvDA,WAuDA,WACA,oBAEA,6CACA,6BACA,MACA,yBACA,sDAEA,oBAKA,kEACA,iBACA,uBACA,WACA,aACA,2BACA,gDACA,QAGA,iEACA,6EAGA,OACA,gBADA,SACA,GACA,0BACA,wBAEA,KALA,SAKA,gBACA,gCACA,wBACA,mBACA,sBACA,mBACA,8BACA,wDAIA,SAhBA,SAgBA,gBACA,uBACA,UACA,gIAIA,iCACA,MAEA,2BAEA,+BACA,8BACA,oBACA,gBACA,IAGA,oBACA,4BACA,6DACA,UACA,uBACA,cACA,uBACA,KAGA,eA7CA,SA6CA,GACA,6BACA,mDAEA,UAjDA,WAiDA,WACA,uBACA,qBAGA,CACA,+BACA,aAEA,mBACA,mCACA,uCARA,uBACA,wDAUA,MAIA,UACA,KADA,WACA,WACA,uEAEA,eAJA,WAKA,OACA,mBACA,uBACA,uBACA,mBAGA,oBAZA,WAaA,kDAEA,cAfA,WAgBA,8BAEA,YAlBA,WAkBA,WACA,wDAEA,0CACA,6BACA,yCACA,sCACA,YAGA,4DAEA,WA9BA,WA8BA,WACA,gDAEA,0EAEA,aAEA,SAQA,MANA,0BACA,8BACA,wBACA,qDAGA,MAIA,SACA,cADA,SACA,GACA,0BAEA,aAJA,WAIA,uIAGA,GAFA,iCAEA,EAGA,OAFA,oBACA,iBAIA,yBACA,gBACA,sBACA,uBACA,eACA,oBACA,oBACA,uDAEA,eAtBA,WAuBA,oBACA,6BACA,eACA,sBAEA,kBA5BA,WA6BA,6BACA,iDAEA,cAhCA,SAgCA,GACA,SACA,4BACA,oCAEA,eArCA,WAsCA,wCAEA,YAxCA,YAyCA,kCAEA,wBACA,uDACA,0BACA,iCACA,+BACA,eACA,iCAI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A,CAEA,4BAGA,oBA3CA,SA2CA,GACA,uCACA,EADA,CAEA,4BAGA,cAjDA,SAiDA,GACA,4BACA,UACA,6BCtP6W,MCQzW,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,OAIa,M,QCjBfva,OAAO8B,eAAe4Y,GAAY,UAAW,CAC5CC,cAAc,EACd5Y,YAAY,EACZK,MAH4C,SAGtCwY,GACLA,EAAIzO,UAAU,cAAeuO,OAIhBA,U,glBC2Ef,QACA,YACA,eAGA,gCAEA,KAPA,WAQA,OACA,WACA,SACA,gBACA,kBACA,YACA,kBACA,WACA,SACA,kBACA,aACA,eACA,gBACA,mBACA,kBACA,mBACA,kBACA,gBACA,eACA,aACA,wCACA,wCACA,yCAEA,0CAIA,QApCA,WAqCA,kBACA,+BAGA,UAzCA,WA0CA,mBAGA,SACA,YADA,SACA,GACA,wCAEA,WAJA,WAKA,qBACA,cACA,uDACA,sBAGA,cAXA,WAYA,iBACA,uBACA,gBACA,cACA,kDACA,mBAGA,WApBA,yLAqBA,kBAEA,UACA,QACA,iBACA,oBA1BA,SA6BA,QA7BA,cA6BA,EA7BA,OA+BA,KACA,KACA,KAEA,uBACA,mCAEA,SAEA,gCACA,QACA,OACA,MACA,kBACA,aACA,SADA,GAEA,CACA,YACA,gCAKA,aAGA,uCACA,+BA1DA,UA6DA,eA7DA,eA6DA,EA7DA,OA+DA,uDA/DA,UAiEA,iCACA,0BACA,OACA,mCACA,uBArEA,QAiEA,EAjEA,OA0EA,mEAEA,KAEA,oCACA,WAEA,kBACA,8CAGA,WACA,6DAEA,MACA,0BACA,YACA,UAEA,iBAEA,SACA,UACA,QAKA,gCACA,qBACA,iEAEA,+BACA,+BA3GA,yGA8GA,eA9GA,SA8GA,GACA,8BACA,4BACA,SACA,MACA,kBACA,SAEA,OADA,kDACA,8BAIA,kBA1HA,SA0HA,gBACA,6BACA,4BACA,SACA,wBACA,uBACA,oCACA,+BAIA,6BAGA,kBAxIA,SAwIA,GACA,gBACA,wCACA,mCAEA,mBACA,qCAEA,gBAGA,OAFA,2DAEA,MACA,EADA,GAEA,CACA,UACA,YACA,yBACA,kDACA,IACA,oCACA,yCAKA,cAjKA,YAiKA,kDAGA,GAFA,8BAEA,oDAEA,iCAEA,oDAEA,yCAEA,2BAEA,0BACA,8BAEA,+BAEA,yBACA,gCAEA,6BAEA,mCACA,0BAEA,yBAEA,uBACA,2BACA,yBAGA,gCACA,yBAEA,yBAIA,eAzMA,SAyMA,gBACA,uBACA,2BACA,4DAEA,MACA,kCAEA,uBAGA,4BAIA,iBAxNA,SAwNA,KAEA,yCACA,kDAEA,2BACA,UACA,OAFA,iCAGA,gCAKA,cArOA,SAqOA,KACA,oBACA,iDAFA,EAKA,WALA,EAKA,YALA,EAKA,UAEA,aACA,SADA,GAEA,CACA,YACA,SACA,kBACA,uBACA,yBACA,8BAKA,YAzPA,iLAyPA,EAzPA,EAyPA,UAzPA,EAyPA,SAzPA,EAyPA,OAzPA,EAyPA,aACA,GACA,6BACA,UACA,oBAGA,IACA,QACA,YACA,YACA,YACA,iBAIA,IACA,gBACA,UACA,kBACA,uBAGA,SACA,6BAjRA,SAqRA,2BArRA,gBAqRA,EArRA,EAqRA,GAEA,kDAvRA,yGA0RA,SA1RA,SA0RA,GACA,kCAGA,YA9RA,6KA8RA,EA9RA,EA8RA,YA9RA,EA8RA,aA9RA,EA8RA,SA9RA,EA8RA,KACA,oBACA,YAGA,OADA,EACA,CACA,YACA,YACA,YACA,uBAGA,EA1SA,SA6SA,oBACA,OACA,UA/SA,yGAkTA,cAlTA,uKAkTA,EAlTA,EAkTA,YAlTA,EAkTA,OAlTA,SAmTA,oBACA,OACA,2BArTA,yGAwTA,WAxTA,6KAwTA,EAxTA,EAwTA,OAxTA,EAwTA,YAxTA,EAwTA,OACA,IACA,0BACA,SACA,MAHA,UAGA,OAHA,YAGA,SA5TA,SA8TA,mCA9TA,uBA+TA,mBA/TA,cA+TA,EA/TA,gBAiUA,oBACA,OACA,OAFA,kBAGA,eApUA,yGAwUA,kBAxUA,YAwUA,0BACA,eACA,iBACA,0BACA,iBACA,0BACA,iBACA,4BAIA,qBAnVA,aAuVA,oBAvVA,6KAuVA,EAvVA,EAuVA,WAvVA,EAuVA,SAvVA,EAuVA,YAvVA,EAuVA,OACA,IACA,uDACA,sDA1VA,SA4VA,oBACA,OACA,OAFA,sCAGA,YA/VA,yGAmWA,cAnWA,YAmWA,2BACA,IACA,sDACA,uDAEA,iBACA,iBAIA,uBA7WA,oEA6WA,GA7WA,4FA8WA,0BACA,uBACA,0DACA,8CAjXA,oGAsXA,uBAtXA,WAuXA,QACA,WACA,mCAEA,GACA,gBACA,+CAGA,GACA,eACA,+CAGA,EACA,WACA,uBACA,wBACA,YAEA,EACA,eACA,OACA,iBACA,gBAKA,wBApZA,WAoZA,WACA,4BACA,yBACA,EACA,WACA,sBACA,wBACA,YAEA,QACA,+BACA,UAEA,QACA,iBAEA,IACA,+BACA,GAGA,EACA,kCAEA,yCAEA,yBACA,0CAGA,+BAMA,QAxbA,WAybA,kBACA,oBAGA,WA7bA,sKA8bA,oBA9bA,SAgcA,uCAhcA,uBAgcA,EAhcA,EAgcA,GAhcA,SAicA,yBAjcA,uBAkcA,sCAlcA,OAocA,mBACA,wBACA,kBAtcA,yGAycA,WAzcA,SAycA,GACA,kBACA,qBAGA,YA9cA,sKA+cA,oBA/cA,SAidA,uCAjdA,uBAidA,EAjdA,EAidA,GAjdA,SAkdA,yBAldA,uBAodA,EACA,uBACA,qDAtdA,OAwdA,uBACA,wBACA,kBA1dA,yGA6dA,WA7dA,SA6dA,GACA,kBACA,oBACA,4EAGA,eAneA,8JAoeA,oBApeA,SAseA,iCACA,8DAveA,OA0eA,uBACA,qBACA,kBA5eA,wGA+eA,WA/eA,oEA+eA,GA/eA,8FAgfA,sBAEA,0BACA,SACA,6DApfA,SAufA,qBAvfA,OAyfA,kBAzfA,yGA4fA,WA5fA,WA6fA,oBACA,qBACA,wBACA,uBACA,wBACA,uBACA,wBCroBwU,MCQpU,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCiBf,IACA,YACA,kBAGA,KALA,WAMA,OACA,cACA,YACA,OACA,CACA,2BACA,gBACA,kEAEA,CACA,2BACA,gBACA,mEAEA,CACA,2BACA,gBACA,OACA,6GAGA,qCACA,kBAIA,OACA,cADA,WACA,WACA,iBACA,qDAIA,SACA,UADA,WAEA,0BACA,+KACA,qCADA,SAGA,0BACA,SACA,6DALA,OAQA,wBARA,qGAYA,0BACA,uBACA,+BAIA,QArBA,wKAsBA,qBAEA,gBAxBA,SAyBA,oBAzBA,cA2BA,gBA3BA,SA4BA,oBA5BA,cA8BA,gBA9BA,UA+BA,oBA/BA,yBAiCA,6BAjCA,yBAkCA,6BAlCA,yBAmCA,6BAnCA,yBAoCA,mCApCA,QAsCA,qBAtCA,2GC3E8T,MCQ1T,I,UAAY,eACd,GACA,EACArV,GACA,EACA,KACA,KACA,OAIa,M,QChBfuV,OAAItV,OAAOuV,eAAgB,EAE3B,IAAID,OAAI,CACPE,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,OACbC,OAAO,S,oCCPV,yBAAmf,EAAG,G,iOCA/e,SAASC,EAAWC,GAC1B,IAAMC,EAAgB,CACrB,CAAE1Y,IAAK,SAAU0L,KAAM,CAAC,SAAU,WAClC,CAAE1L,IAAK,WAAY0L,KAAM,CAAC,WAC1B,CAAE1L,IAAK,QAAS0L,KAAM,CAAC,WAGlBiN,EAAW,SAACF,EAAKG,GACtB,OAAOA,EAAMC,OAAM,SAAAtL,GAClB,IAAIuL,GAAY,EAQhB,MANqB,UAAjBvL,EAAK7B,KAAK,IAAkBlK,MAAMuX,QAAQN,EAAIlL,EAAKvN,MACtD8Y,GAAY,EACFvL,EAAK7B,KAAK9B,MAAK,SAAAjK,GAAC,OAAIA,IAAM,eAAO8Y,EAAIlL,EAAKvN,WACpD8Y,GAAY,GAGNA,GAAaE,EAAiBP,EAAKlL,EAAKvN,SAIjD,OAAO2Y,EAASF,EAAKC,GAGf,SAASO,EAAiBR,GAChC,IAAMS,EAAuB,CAC5B,CAAElZ,IAAK,MAAO0L,KAAM,CAAC,SAAU,WAC/B,CAAE1L,IAAK,WAAY0L,KAAM,CAAC,YAGrBiN,EAAW,SAACF,EAAKG,GACtB,OAAOA,EAAMC,OAAM,SAAAtL,GAClB,IAAMuL,EAAYvL,EAAK7B,KAAK9B,MAAK,SAAAjK,GAAC,OAAIA,IAAM,eAAO8Y,EAAIlL,EAAKvN,SAC5D,OAAO8Y,GAAaE,EAAiBP,EAAKlL,EAAKvN,SAIjD,OAAO2Y,EAASF,EAAKS,GAGf,SAASC,EAAcV,GAC7B,IAAMS,EAAuB,CAC5B,CAAElZ,IAAK,MAAO0L,KAAM,CAAC,SAAU,WAC/B,CAAE1L,IAAK,UAAW0L,KAAM,CAAC,SAAU,WACnC,CAAE1L,IAAK,YAAa0L,KAAM,CAAC,SAAU,YAGhCiN,EAAW,SAACF,EAAKG,GACtB,OAAOA,EAAMC,OAAM,SAAAtL,GAClB,IAAMuL,EAAYvL,EAAK7B,KAAK9B,MAAK,SAAAjK,GAAC,OAAIA,IAAM,eAAO8Y,EAAIlL,EAAKvN,SAC5D,OAAO8Y,GAAaE,EAAiBP,EAAKlL,EAAKvN,SAIjD,OAAO2Y,EAASF,EAAKS,GAGtB,SAASF,EAAiBP,EAAKzY,GAC9B,OAAOyY,EAAIjb,eAAewC,IAAqB,OAAbyY,EAAIzY,SAA8BoZ,IAAbX,EAAIzY,K,oCC1D5D,yBAAkjB,EAAG,G,oCCArjB,yBAAkf,EAAG,G,kCCA9e,SAASqZ,IACf,IAAIC,EAAYC,IAEZC,EAAgBF,EAAUlN,OAAO,EAAG,GAExC,MACC,sVAAsVqN,KACrVH,IAED,8+CAA8+CG,KAC7+CD,GAKH,SAASD,IACR,IAAID,EACHI,UAAUJ,WAAaI,UAAUC,QAAUpZ,OAAOqZ,OAAS,KAE5D,IAAKN,EAAW,MAAM,IAAIO,MAAM,8CAEhC,OAAOP,EArBR,qD,oFCAA,yBAAokB,EAAG,G,yDCAvkB,yBAAukB,EAAG,G,mBCA1kB1a,EAAOD,QAAU,0uE,yDCAjB,yBAA2kB,EAAG,G","file":"js/app.faeff799.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vue-advanced-chat/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContainer.vue?vue&type=style&index=0&id=237f3d2a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContainer.vue?vue&type=style&index=0&id=237f3d2a&lang=scss&scoped=true&\"","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsList.vue?vue&type=style&index=0&id=7932a15f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsList.vue?vue&type=style&index=0&id=7932a15f&lang=scss&scoped=true&\"","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=style&index=0&id=a3061d78&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=style&index=0&id=a3061d78&lang=scss&scoped=true&\"","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgIcon.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgIcon.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"app-container\"},[_c('span',{staticClass:\"user-logged\"},[_vm._v(\"Logged as\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentUserId),expression:\"currentUserId\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.currentUserId=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.users),function(user){return _c('option',{key:user._id,domProps:{\"value\":user._id}},[_vm._v(\" \"+_vm._s(user.username)+\" \")])}),0),_c('div',{staticClass:\"button-theme\"},[_c('button',{staticClass:\"button-light\",on:{\"click\":function($event){_vm.theme = 'light'}}},[_vm._v(\"Light\")]),_c('button',{staticClass:\"button-dark\",on:{\"click\":function($event){_vm.theme = 'dark'}}},[_vm._v(\"Dark\")])]),(_vm.showChat)?_c('chat-container',{attrs:{\"currentUserId\":_vm.currentUserId,\"theme\":_vm.theme}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as app from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/database'\nimport 'firebase/storage'\n\nconst config =\n\tprocess.env.NODE_ENV === 'development'\n\t\t? JSON.parse(process.env.VUE_APP_FIREBASE_CONFIG)\n\t\t: JSON.parse(process.env.VUE_APP_FIREBASE_CONFIG_PUBLIC)\n\napp.initializeApp(config)\n\nexport const firebase = app\nexport const db = app.firestore()\nexport const storageRef = app.storage().ref()\n\nexport const usersRef = db.collection('users')\nexport const roomsRef = db.collection('chatRooms')\n\nexport const filesRef = storageRef.child('files')\n\nexport const dbTimestamp = firebase.firestore.FieldValue.serverTimestamp()\nexport const deleteDbField = firebase.firestore.FieldValue.delete()\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"window-container\"},[_c('div',{staticClass:\"chat-forms\"},[(_vm.addNewRoom)?_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createRoom($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addRoomUsername),expression:\"addRoomUsername\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Add username to create a room\"},domProps:{\"value\":(_vm.addRoomUsername)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addRoomUsername=$event.target.value}}}),_c('button',{attrs:{\"type\":\"submit\",\"disabled\":_vm.disableForm || !_vm.addRoomUsername}},[_vm._v(\" Create Room \")]),_c('button',{staticClass:\"button-cancel\",on:{\"click\":function($event){_vm.addNewRoom = false}}},[_vm._v(\" Cancel \")])]):_vm._e(),(_vm.inviteRoomId)?_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addRoomUser($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.invitedUsername),expression:\"invitedUsername\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Add user to the room\"},domProps:{\"value\":(_vm.invitedUsername)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.invitedUsername=$event.target.value}}}),_c('button',{attrs:{\"type\":\"submit\",\"disabled\":_vm.disableForm || !_vm.invitedUsername}},[_vm._v(\" Add User \")]),_c('button',{staticClass:\"button-cancel\",on:{\"click\":function($event){_vm.inviteRoomId = null}}},[_vm._v(\" Cancel \")])]):_vm._e(),(_vm.removeRoomId)?_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.deleteRoomUser($event)}}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.removeUserId),expression:\"removeUserId\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.removeUserId=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"default\":\"\",\"value\":\"\"}},[_vm._v(\"Select User\")]),_vm._l((_vm.removeUsers),function(user){return _c('option',{key:user._id,domProps:{\"value\":user._id}},[_vm._v(\" \"+_vm._s(user.username)+\" \")])})],2),_c('button',{attrs:{\"type\":\"submit\",\"disabled\":_vm.disableForm || !_vm.removeUserId}},[_vm._v(\" Remove User \")]),_c('button',{staticClass:\"button-cancel\",on:{\"click\":function($event){_vm.removeRoomId = null}}},[_vm._v(\" Cancel \")])]):_vm._e()]),_c('chat-window',{attrs:{\"height\":\"calc(100vh - 80px)\",\"theme\":_vm.theme,\"styles\":_vm.styles,\"currentUserId\":_vm.currentUserId,\"rooms\":_vm.rooms,\"loadingRooms\":_vm.loadingRooms,\"messages\":_vm.messages,\"messagesLoaded\":_vm.messagesLoaded,\"menuActions\":_vm.menuActions},on:{\"fetchMessages\":_vm.fetchMessages,\"sendMessage\":_vm.sendMessage,\"editMessage\":_vm.editMessage,\"deleteMessage\":_vm.deleteMessage,\"openFile\":_vm.openFile,\"addRoom\":_vm.addRoom,\"menuActionHandler\":_vm.menuActionHandler,\"messageActionHandler\":_vm.messageActionHandler,\"sendMessageReaction\":_vm.sendMessageReaction,\"typingMessage\":_vm.typingMessage}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const parseTimestamp = (timestamp, format = '') => {\n\tif (!timestamp) return\n\n\tconst date = timestamp.seconds\n\t\t? new Date(timestamp.seconds * 1000)\n\t\t: timestamp\n\n\tif (format === 'HH:mm') {\n\t\treturn `${zeroPad(date.getHours(), 2)}:${zeroPad(date.getMinutes(), 2)}`\n\t} else if (format === 'DD MMMM YYYY') {\n\t\tconst options = { month: 'long', year: 'numeric', day: 'numeric' }\n\t\treturn `${new Intl.DateTimeFormat('en-GB', options).format(date)}`\n\t} else if (format === 'DD/MM/YY') {\n\t\tconst options = { month: 'numeric', year: 'numeric', day: 'numeric' }\n\t\treturn `${new Intl.DateTimeFormat('en-GB', options).format(date)}`\n\t} else if (format === 'DD MMMM, HH:mm') {\n\t\tconst options = { month: 'long', day: 'numeric' }\n\t\treturn `${new Intl.DateTimeFormat('en-GB', options).format(\n\t\t\tdate\n\t\t)}, ${zeroPad(date.getHours(), 2)}:${zeroPad(date.getMinutes(), 2)}`\n\t}\n\n\treturn date\n}\n\nconst zeroPad = (num, pad) => {\n\treturn String(num).padStart(pad, '0')\n}\n\nexport const isSameDay = (d1, d2) => {\n\treturn (\n\t\td1.getFullYear() === d2.getFullYear() &&\n\t\td1.getMonth() === d2.getMonth() &&\n\t\td1.getDate() === d2.getDate()\n\t)\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-window\",style:([{ height: _vm.height }, _vm.cssVars])},[_c('div',{staticClass:\"chat-container\"},[(!_vm.singleRoom)?_c('rooms-list',{attrs:{\"currentUserId\":_vm.currentUserId,\"rooms\":_vm.orderedRooms,\"loadingRooms\":_vm.loadingRooms,\"room\":_vm.room,\"textMessages\":_vm.t,\"showAddRoom\":_vm.showAddRoom,\"showRoomsList\":_vm.showRoomsList,\"textFormatting\":_vm.textFormatting,\"isMobile\":_vm.isMobile},on:{\"fetchRoom\":_vm.fetchRoom,\"addRoom\":_vm.addRoom},scopedSlots:_vm._u([{key:\"rooms-header\",fn:function(){return [_vm._t(\"rooms-header\")]},proxy:true}],null,true)}):_vm._e(),_c('room',{attrs:{\"currentUserId\":_vm.currentUserId,\"rooms\":_vm.rooms,\"roomId\":_vm.room.roomId || '',\"messages\":_vm.messages,\"roomMessage\":_vm.roomMessage,\"messagesLoaded\":_vm.messagesLoaded,\"menuActions\":_vm.menuActions,\"messageActions\":_vm.messageActions,\"showFiles\":_vm.showFiles,\"showEmojis\":_vm.showEmojis,\"showReactionEmojis\":_vm.showReactionEmojis,\"textMessages\":_vm.t,\"singleRoom\":_vm.singleRoom,\"showRoomsList\":_vm.showRoomsList,\"textFormatting\":_vm.textFormatting,\"isMobile\":_vm.isMobile,\"loadingRooms\":_vm.loadingRooms,\"roomInfo\":_vm.$listeners.roomInfo},on:{\"toggleRoomsList\":_vm.toggleRoomsList,\"roomInfo\":_vm.roomInfo,\"fetchMessages\":_vm.fetchMessages,\"sendMessage\":_vm.sendMessage,\"editMessage\":_vm.editMessage,\"deleteMessage\":_vm.deleteMessage,\"openFile\":_vm.openFile,\"menuActionHandler\":_vm.menuActionHandler,\"messageActionHandler\":_vm.messageActionHandler,\"sendMessageReaction\":_vm.sendMessageReaction,\"typingMessage\":_vm.typingMessage}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRoomsList),expression:\"showRoomsList\"}],staticClass:\"rooms-container app-border-r\",class:{ 'rooms-container-full': _vm.isMobile }},[_vm._t(\"rooms-header\"),_c('div',{staticClass:\"box-search\"},[(_vm.rooms.length)?_c('div',{staticClass:\"icon-search\"},[_c('svg-icon',{attrs:{\"name\":\"search\"}})],1):_vm._e(),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.rooms.length),expression:\"rooms.length\"}],attrs:{\"type\":\"search\",\"placeholder\":_vm.textMessages.SEARCH,\"autocomplete\":\"off\"},on:{\"input\":_vm.searchRoom}}),(_vm.showAddRoom)?_c('div',{staticClass:\"svg-button add-icon\",on:{\"click\":_vm.addRoom}},[_c('svg-icon',{attrs:{\"name\":\"add\"}})],1):_vm._e()]),_c('loader',{attrs:{\"show\":_vm.loadingRooms}}),(!_vm.loadingRooms && !_vm.rooms.length)?_c('div',{staticClass:\"rooms-empty\"},[_vm._v(\" \"+_vm._s(_vm.textMessages.ROOMS_EMPTY)+\" \")]):_vm._e(),(!_vm.loadingRooms)?_c('div',{staticClass:\"room-list\"},_vm._l((_vm.filteredRooms),function(room){return _c('div',{key:room.roomId,staticClass:\"room-item\",class:{ 'room-selected': _vm.selectedRoomId === room.roomId },on:{\"click\":function($event){return _vm.openRoom(room)}}},[(room.avatar)?_c('div',{staticClass:\"room-avatar\",style:({ 'background-image': (\"url('\" + (room.avatar) + \"')\") })}):_vm._e(),_c('div',{staticClass:\"name-container text-ellipsis\"},[_c('div',{staticClass:\"title-container\"},[(_vm.userStatus(room))?_c('div',{staticClass:\"state-circle\",class:{ 'state-online': _vm.userStatus(room) === 'online' }}):_vm._e(),_c('div',{staticClass:\"room-name text-ellipsis\"},[_vm._v(\" \"+_vm._s(room.roomName)+\" \")]),(room.lastMessage)?_c('div',{staticClass:\"text-date\"},[_vm._v(\" \"+_vm._s(room.lastMessage.timestamp)+\" \")]):_vm._e()]),(room.lastMessage)?_c('div',{staticClass:\"text-last\",class:{ 'message-new': room.lastMessage.new }},[(room.lastMessage.seen)?_c('span',[_c('svg-icon',{staticClass:\"icon-check\",attrs:{\"name\":\"checkmark\"}})],1):_vm._e(),_c('format-message',{attrs:{\"content\":_vm.getLastMessage(room),\"deleted\":!!room.lastMessage.deleted,\"formatLinks\":false,\"textFormatting\":_vm.textFormatting,\"singleLine\":true}})],1):_vm._e()])])}),0):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade-spinner\",\"appear\":\"\"}},[(_vm.show)?_c('div',{class:{ 'container-center': !_vm.infinite, 'container-top': _vm.infinite }},[_c('div',{attrs:{\"id\":\"circle\"}})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<transition name=\"fade-spinner\" appear>\n\t\t<div\n\t\t\t:class=\"{ 'container-center': !infinite, 'container-top': infinite }\"\n\t\t\tv-if=\"show\"\n\t\t>\n\t\t\t<div id=\"circle\"></div>\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nexport default {\n\tname: 'loader',\n\tprops: ['show', 'infinite']\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container-center {\n\tposition: absolute;\n\tleft: 50%;\n\ttop: 50%;\n\ttransform: translate(-50%, -50%);\n\tz-index: 9;\n}\n\n.container-top {\n\tpadding: 21px;\n\n\t#circle {\n\t\theight: 20px;\n\t\twidth: 20px;\n\t}\n}\n\n#circle {\n\tmargin: auto;\n\theight: 28px;\n\twidth: 28px;\n\tborder: 3px rgba(0, 0, 0, 0.25) solid;\n\tborder-top: 3px var(--chat-color-spinner) solid;\n\tborder-right: 3px var(--chat-color-spinner) solid;\n\tborder-bottom: 3px var(--chat-color-spinner) solid;\n\tborder-radius: 50%;\n\t-webkit-animation: spin 1s infinite linear;\n\tanimation: spin 1s infinite linear;\n}\n\n@media only screen and (max-width: 768px) {\n\t#circle {\n\t\theight: 24px;\n\t\twidth: 24px;\n\t}\n\n\t.container-top {\n\t\tpadding: 18px;\n\n\t\t#circle {\n\t\t\theight: 16px;\n\t\t\twidth: 16px;\n\t\t}\n\t}\n}\n\n@-webkit-keyframes spin {\n\tfrom {\n\t\t-webkit-transform: rotate(0deg);\n\t\ttransform: rotate(0deg);\n\t}\n\tto {\n\t\t-webkit-transform: rotate(359deg);\n\t\ttransform: rotate(359deg);\n\t}\n}\n@keyframes spin {\n\tfrom {\n\t\t-webkit-transform: rotate(0deg);\n\t\ttransform: rotate(0deg);\n\t\t-webkit-transform: rotate(0deg);\n\t\ttransform: rotate(0deg);\n\t}\n\tto {\n\t\t-webkit-transform: rotate(359deg);\n\t\ttransform: rotate(359deg);\n\t\t-webkit-transform: rotate(359deg);\n\t\ttransform: rotate(359deg);\n\t}\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loader.vue?vue&type=template&id=a3061d78&scoped=true&\"\nimport script from \"./Loader.vue?vue&type=script&lang=js&\"\nexport * from \"./Loader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Loader.vue?vue&type=style&index=0&id=a3061d78&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a3061d78\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"version\":\"1.1\",\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"id\":_vm.svgId,\"d\":_vm.svgItem.find(function (item) { return item.name === _vm.name; }).path}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\t\tversion=\"1.1\"\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<path :id=\"svgId\" :d=\"svgItem.find(item => item.name === name).path\" />\n\t</svg>\n</template>\n\n<script>\nexport default {\n\tname: 'svg-icon',\n\tprops: ['name', 'path', 'param'],\n\n\tcomputed: {\n\t\tsvgId() {\n\t\t\tconst param = this.param ? '-' + this.param : ''\n\t\t\treturn `chat-icon-${this.name}${param}`\n\t\t}\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tsvgItem: [\n\t\t\t\t{\n\t\t\t\t\tname: 'search',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'add',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'toggle',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M5,13L9,17L7.6,18.42L1.18,12L7.6,5.58L9,7L5,11H21V13H5M21,6V8H11V6H21M21,16V18H11V16H21Z'\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\tname: 'menu',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'close',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'file',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'paperclip',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'close-outline',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'send',\n\t\t\t\t\tpath: 'M2,21L23,12L2,3V10L17,12L2,14V21Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'emoji',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'document',\n\t\t\t\t\tpath: 'M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'pencil',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'checkmark',\n\t\t\t\t\tpath: 'M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'eye',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'dropdown',\n\t\t\t\t\tpath: 'M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'deleted',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z'\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n#chat-icon-search {\n\tfill: var(--chat-icon-color-search);\n}\n\n#chat-icon-add {\n\tfill: var(--chat-icon-color-add);\n}\n\n#chat-icon-toggle {\n\tfill: var(--chat-icon-color-toggle);\n}\n\n#chat-icon-menu {\n\tfill: var(--chat-icon-color-menu);\n}\n\n#chat-icon-close {\n\tfill: var(--chat-icon-color-close);\n}\n\n#chat-icon-close-image {\n\tfill: var(--chat-icon-color-close-image);\n}\n\n#chat-icon-file {\n\tfill: var(--chat-icon-color-file);\n}\n\n#chat-icon-paperclip {\n\tfill: var(--chat-icon-color-paperclip);\n}\n\n#chat-icon-close-outline {\n\tfill: var(--chat-icon-color-close-outline);\n}\n\n#chat-icon-send {\n\tfill: var(--chat-icon-color-send);\n}\n\n#chat-icon-send-disabled {\n\tfill: var(--chat-icon-color-send-disabled);\n}\n\n#chat-icon-emoji {\n\tfill: var(--chat-icon-color-emoji);\n}\n\n#chat-icon-emoji-reaction {\n\tfill: var(--chat-icon-color-emoji-reaction);\n}\n\n#chat-icon-document {\n\tfill: var(--chat-icon-color-document);\n}\n\n#chat-icon-pencil {\n\tfill: var(--chat-icon-color-pencil);\n}\n\n#chat-icon-checkmark {\n\tfill: var(--chat-icon-color-checkmark);\n}\n\n#chat-icon-eye {\n\tfill: var(--chat-icon-color-eye);\n}\n\n#chat-icon-dropdown-message {\n\tfill: var(--chat-icon-color-dropdown-message);\n}\n\n#chat-icon-dropdown-scroll {\n\tfill: var(--chat-icon-color-dropdown-scroll);\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SvgIcon.vue?vue&type=template&id=ef2ef4de&\"\nimport script from \"./SvgIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./SvgIcon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SvgIcon.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n\t\t'text-ellipsis': _vm.singleLine\n\t}},[(_vm.textFormatting)?_c('div',[_vm._l((_vm.linkifiedMessage),function(message,i){return [_c(_vm.checkType(message, 'url') ? 'a' : 'span',{key:i,tag:\"component\",class:{\n\t\t\t\t\t'text-ellipsis': _vm.singleLine,\n\t\t\t\t\t'text-deleted': _vm.deleted,\n\t\t\t\t\t'text-bold': _vm.checkType(message, 'bold'),\n\t\t\t\t\t'text-italic': _vm.checkType(message, 'italic'),\n\t\t\t\t\t'text-strike': _vm.checkType(message, 'strike'),\n\t\t\t\t\t'text-underline': _vm.checkType(message, 'underline'),\n\t\t\t\t\t'text-inline-code':\n\t\t\t\t\t\t!_vm.singleLine && _vm.checkType(message, 'inline-code'),\n\t\t\t\t\t'text-multiline-code':\n\t\t\t\t\t\t!_vm.singleLine && _vm.checkType(message, 'multiline-code')\n\t\t\t\t},attrs:{\"href\":message.href,\"target\":\"_blank\"}},[(_vm.deleted)?_c('svg-icon',{staticClass:\"icon-deleted\",attrs:{\"name\":\"deleted\"}}):_vm._e(),_vm._v(_vm._s(message.value))],1)]})],2):_c('div',[_vm._v(_vm._s(_vm.content))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const linkify = require('linkifyjs')\n\nexport default (text, doLinkify) => {\n\tconst json = compileToJSON(text)\n\n\tconst html = compileToHTML(json)\n\n\tconst flatten = flattenResult(html)\n\n\tconst result = [].concat.apply([], flatten)\n\n\tmarkdownResult(result)\n\n\tif (doLinkify) linkifyResult(result)\n\n\treturn result\n}\n\nconst type_markdown = {\n\tbold: '*',\n\titalic: '_',\n\tstrike: '~',\n\tunderline: '°'\n}\n\nconst pseudo_markdown = {\n\t[type_markdown.bold]: {\n\t\tend: '\\\\' + [type_markdown.bold],\n\t\tallowed_chars: '.',\n\t\ttype: 'bold'\n\t},\n\t[type_markdown.italic]: {\n\t\tend: [type_markdown.italic],\n\t\tallowed_chars: '.',\n\t\ttype: 'italic'\n\t},\n\t[type_markdown.strike]: {\n\t\tend: [type_markdown.strike],\n\t\tallowed_chars: '.',\n\t\ttype: 'strike'\n\t},\n\t[type_markdown.underline]: {\n\t\tend: [type_markdown.underline],\n\t\tallowed_chars: '.',\n\t\ttype: 'underline'\n\t},\n\t'```': {\n\t\tend: '```',\n\t\tallowed_chars: '(.|\\n)',\n\t\ttype: 'multiline-code'\n\t},\n\t'`': {\n\t\tend: '`',\n\t\tallowed_chars: '.',\n\t\ttype: 'inline-code'\n\t}\n\t// ':': {\n\t// \tallowed_chars: '[a-z_]',\n\t// \tend: ':',\n\t// \tobject: child => <Emojione type={child[0]} />\n\t// },\n\t// '@': {\n\t// \tallowed_chars: '[a-z_.-A-Z0-9]',\n\t// \tend: ' ',\n\t// \tobject: child => <User data={child} />\n\t// }\n}\n\nfunction compileToJSON(str) {\n\tlet result = []\n\tlet min_index_of = -1\n\tlet min_index_of_key = null\n\n\tObject.keys(pseudo_markdown).forEach(starting_value => {\n\t\tconst io = str.indexOf(starting_value)\n\t\tif (io >= 0 && (min_index_of < 0 || io < min_index_of)) {\n\t\t\tmin_index_of = io\n\t\t\tmin_index_of_key = starting_value\n\t\t}\n\t})\n\n\tif (min_index_of_key) {\n\t\tlet str_left = str.substr(0, min_index_of)\n\t\tconst char = min_index_of_key\n\t\tlet str_right = str.substr(min_index_of + char.length)\n\n\t\tconst match = str_right.match(\n\t\t\tnew RegExp(\n\t\t\t\t'^(' +\n\t\t\t\t\t(pseudo_markdown[char].allowed_chars || '.') +\n\t\t\t\t\t'*' +\n\t\t\t\t\t(pseudo_markdown[char].end ? '?' : '') +\n\t\t\t\t\t')' +\n\t\t\t\t\t(pseudo_markdown[char].end\n\t\t\t\t\t\t? '(' + pseudo_markdown[char].end + ')'\n\t\t\t\t\t\t: ''),\n\t\t\t\t'm'\n\t\t\t)\n\t\t)\n\t\tif (!match) {\n\t\t\tstr_left = str_left + char\n\t\t\tresult.push(str_left)\n\t\t} else {\n\t\t\tif (str_left) {\n\t\t\t\tresult.push(str_left)\n\t\t\t}\n\t\t\tconst object = {\n\t\t\t\tstart: char,\n\t\t\t\tcontent: compileToJSON(match[1]),\n\t\t\t\tend: match[2],\n\t\t\t\ttype: pseudo_markdown[char].type\n\t\t\t}\n\t\t\tresult.push(object)\n\t\t\tstr_right = str_right.substr(match[0].length)\n\t\t}\n\t\tresult = result.concat(compileToJSON(str_right))\n\t\treturn result\n\t} else {\n\t\tif (str) {\n\t\t\treturn [str]\n\t\t} else {\n\t\t\treturn []\n\t\t}\n\t}\n}\n\nfunction compileToHTML(json) {\n\tconst result = []\n\n\tjson.forEach(item => {\n\t\tif (typeof item == 'string') {\n\t\t\tresult.push({ types: [], value: item })\n\t\t} else {\n\t\t\tif (pseudo_markdown[item.start]) {\n\t\t\t\tresult.push(parseContent(item))\n\t\t\t}\n\t\t}\n\t})\n\n\treturn result\n}\n\nfunction parseContent(item) {\n\tconst result = []\n\n\titem.content.forEach(it => {\n\t\tif (typeof it == 'string') {\n\t\t\tresult.push({\n\t\t\t\ttypes: [item.type],\n\t\t\t\tvalue: it\n\t\t\t})\n\t\t} else {\n\t\t\tit.content.forEach(i => {\n\t\t\t\tif (typeof i == 'string') {\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\ttypes: [it.type].concat([item.type]),\n\t\t\t\t\t\tvalue: i\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\ttypes: [i.type].concat([it.type]).concat([item.type]),\n\t\t\t\t\t\tvalue: parseContent(i)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t})\n\n\treturn result\n}\n\nfunction flattenResult(array, types = []) {\n\tconst result = []\n\n\tarray.forEach(arr => {\n\t\tif (typeof arr.value == 'string') {\n\t\t\tarr.types = arr.types.concat(types)\n\t\t\tresult.push(arr)\n\t\t} else {\n\t\t\tarr.forEach(a => {\n\t\t\t\tif (typeof a.value == 'string') {\n\t\t\t\t\ta.types = a.types.concat(types)\n\t\t\t\t\tresult.push(a)\n\t\t\t\t} else {\n\t\t\t\t\tresult.push(flattenResult(a.value, a.types))\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t})\n\n\treturn result\n}\n\nfunction markdownResult(array) {\n\tfor (let i = 0; i < array.length; i) {\n\t\tif (array[i - 1]) {\n\t\t\tconst isInline =\n\t\t\t\tarray[i].types.indexOf('inline-code') !== -1 &&\n\t\t\t\tarray[i - 1].types.indexOf('inline-code') !== -1\n\n\t\t\tconst isMultiline =\n\t\t\t\tarray[i].types.indexOf('multiline-code') !== -1 &&\n\t\t\t\tarray[i - 1].types.indexOf('multiline-code') !== -1\n\n\t\t\tif (isInline || isMultiline) {\n\t\t\t\tlet value = array[i].value\n\t\t\t\tarray[i].types.forEach(type => {\n\t\t\t\t\tconst markdown = type_markdown[type] || ''\n\t\t\t\t\tvalue = markdown + value + markdown\n\t\t\t\t})\n\n\t\t\t\tarray[i - 1].value = array[i - 1].value + value\n\n\t\t\t\tarray.splice(i, 1)\n\t\t\t} else {\n\t\t\t\ti++\n\t\t\t}\n\t\t} else {\n\t\t\ti++\n\t\t}\n\t}\n}\n\nfunction linkifyResult(array) {\n\tconst result = []\n\n\tarray.forEach(arr => {\n\t\tconst links = linkify.find(arr.value)\n\n\t\tif (links.length) {\n\t\t\tconst spaces = arr.value.replace(links[0].value, '')\n\t\t\tresult.push({ types: arr.types, value: spaces })\n\n\t\t\tarr.types = ['url'].concat(arr.types)\n\t\t\tarr.href = links[0].href\n\t\t\tarr.value = links[0].value\n\t\t}\n\n\t\tresult.push(arr)\n\t})\n\n\treturn result\n}\n","<template>\n\t<div\n\t\t:class=\"{\n\t\t\t'text-ellipsis': singleLine\n\t\t}\"\n\t>\n\t\t<div v-if=\"textFormatting\">\n\t\t\t<template v-for=\"(message, i) in linkifiedMessage\">\n\t\t\t\t<component\n\t\t\t\t\t:is=\"checkType(message, 'url') ? 'a' : 'span'\"\n\t\t\t\t\t:key=\"i\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'text-ellipsis': singleLine,\n\t\t\t\t\t\t'text-deleted': deleted,\n\t\t\t\t\t\t'text-bold': checkType(message, 'bold'),\n\t\t\t\t\t\t'text-italic': checkType(message, 'italic'),\n\t\t\t\t\t\t'text-strike': checkType(message, 'strike'),\n\t\t\t\t\t\t'text-underline': checkType(message, 'underline'),\n\t\t\t\t\t\t'text-inline-code':\n\t\t\t\t\t\t\t!singleLine && checkType(message, 'inline-code'),\n\t\t\t\t\t\t'text-multiline-code':\n\t\t\t\t\t\t\t!singleLine && checkType(message, 'multiline-code')\n\t\t\t\t\t}\"\n\t\t\t\t\t:href=\"message.href\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t><svg-icon v-if=\"deleted\" name=\"deleted\" class=\"icon-deleted\" />{{\n\t\t\t\t\t\tmessage.value\n\t\t\t\t\t}}</component\n\t\t\t\t>\n\t\t\t</template>\n\t\t</div>\n\t\t<div v-else>{{ content }}</div>\n\t</div>\n</template>\n\n<script>\nimport SvgIcon from './SvgIcon'\n\nimport formatString from '../utils/formatString'\n\nexport default {\n\tname: 'format-message',\n\tcomponents: { SvgIcon },\n\n\tprops: {\n\t\tcontent: { type: [String, Number], required: true },\n\t\tdeleted: { type: Boolean, default: false },\n\t\tformatLinks: { type: Boolean, default: true },\n\t\tsingleLine: { type: Boolean, default: false },\n\t\ttextFormatting: { type: Boolean, required: true }\n\t},\n\n\tcomputed: {\n\t\tlinkifiedMessage() {\n\t\t\treturn formatString(this.content, this.formatLinks)\n\t\t}\n\t},\n\n\tmethods: {\n\t\tcheckType(message, type) {\n\t\t\treturn message.types.indexOf(type) !== -1\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.text-deleted {\n\tfont-style: italic;\n}\n\n.icon-deleted {\n\theight: 14px;\n\twidth: 14px;\n\tvertical-align: middle;\n\tmargin: -3px 1px 0 0;\n\tfill: var(--chat-room-color-message);\n}\n\n.text-ellipsis {\n\twidth: 100%;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./FormatMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./FormatMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormatMessage.vue?vue&type=template&id=7800b99e&\"\nimport script from \"./FormatMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./FormatMessage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FormatMessage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default (items, prop, val) => {\n\tif (!val || val === '') return items\n\n\treturn items.filter(v => {\n\t\treturn (\n\t\t\tv[prop]\n\t\t\t\t.toLowerCase()\n\t\t\t\t.normalize('NFD')\n\t\t\t\t.replace(/[\\u0300-\\u036f]/g, '')\n\t\t\t\t.indexOf(\n\t\t\t\t\tval\n\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t.normalize('NFD')\n\t\t\t\t\t\t.replace(/[\\u0300-\\u036f]/g, '')\n\t\t\t\t) > -1\n\t\t)\n\t})\n}\n","<template>\n\t<div\n\t\tclass=\"rooms-container app-border-r\"\n\t\t:class=\"{ 'rooms-container-full': isMobile }\"\n\t\tv-show=\"showRoomsList\"\n\t>\n\t\t<slot name=\"rooms-header\"></slot>\n\n\t\t<div class=\"box-search\">\n\t\t\t<div class=\"icon-search\" v-if=\"rooms.length\">\n\t\t\t\t<svg-icon name=\"search\" />\n\t\t\t</div>\n\t\t\t<input\n\t\t\t\ttype=\"search\"\n\t\t\t\t:placeholder=\"textMessages.SEARCH\"\n\t\t\t\tautocomplete=\"off\"\n\t\t\t\t@input=\"searchRoom\"\n\t\t\t\tv-show=\"rooms.length\"\n\t\t\t/>\n\t\t\t<div v-if=\"showAddRoom\" class=\"svg-button add-icon\" @click=\"addRoom\">\n\t\t\t\t<svg-icon name=\"add\" />\n\t\t\t</div>\n\t\t</div>\n\n\t\t<loader :show=\"loadingRooms\"></loader>\n\n\t\t<div v-if=\"!loadingRooms && !rooms.length\" class=\"rooms-empty\">\n\t\t\t{{ textMessages.ROOMS_EMPTY }}\n\t\t</div>\n\n\t\t<div v-if=\"!loadingRooms\" class=\"room-list\">\n\t\t\t<div\n\t\t\t\tclass=\"room-item\"\n\t\t\t\tv-for=\"room in filteredRooms\"\n\t\t\t\t:key=\"room.roomId\"\n\t\t\t\t:class=\"{ 'room-selected': selectedRoomId === room.roomId }\"\n\t\t\t\t@click=\"openRoom(room)\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"room.avatar\"\n\t\t\t\t\tclass=\"room-avatar\"\n\t\t\t\t\t:style=\"{ 'background-image': `url('${room.avatar}')` }\"\n\t\t\t\t></div>\n\t\t\t\t<div class=\"name-container text-ellipsis\">\n\t\t\t\t\t<div class=\"title-container\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"userStatus(room)\"\n\t\t\t\t\t\t\tclass=\"state-circle\"\n\t\t\t\t\t\t\t:class=\"{ 'state-online': userStatus(room) === 'online' }\"\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t<div class=\"room-name text-ellipsis\">\n\t\t\t\t\t\t\t{{ room.roomName }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-if=\"room.lastMessage\" class=\"text-date\">\n\t\t\t\t\t\t\t{{ room.lastMessage.timestamp }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"text-last\"\n\t\t\t\t\t\t:class=\"{ 'message-new': room.lastMessage.new }\"\n\t\t\t\t\t\tv-if=\"room.lastMessage\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span v-if=\"room.lastMessage.seen\">\n\t\t\t\t\t\t\t<svg-icon name=\"checkmark\" class=\"icon-check\" />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<format-message\n\t\t\t\t\t\t\t:content=\"getLastMessage(room)\"\n\t\t\t\t\t\t\t:deleted=\"!!room.lastMessage.deleted\"\n\t\t\t\t\t\t\t:formatLinks=\"false\"\n\t\t\t\t\t\t\t:textFormatting=\"textFormatting\"\n\t\t\t\t\t\t\t:singleLine=\"true\"\n\t\t\t\t\t\t></format-message>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Loader from './Loader'\nimport SvgIcon from './SvgIcon'\nimport FormatMessage from './FormatMessage'\n\nimport filteredUsers from '../utils/filterItems'\n\nexport default {\n\tname: 'rooms-list',\n\tcomponents: { Loader, SvgIcon, FormatMessage },\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\ttextMessages: { type: Object, required: true },\n\t\tshowRoomsList: { type: Boolean, required: true },\n\t\tshowAddRoom: { type: Boolean, required: true },\n\t\ttextFormatting: { type: Boolean, required: true },\n\t\tisMobile: { type: Boolean, required: true },\n\t\trooms: { type: Array, required: true },\n\t\tloadingRooms: { type: Boolean, required: true },\n\t\troom: { type: Object, required: true }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tfilteredRooms: this.rooms || [],\n\t\t\tselectedRoomId: ''\n\t\t}\n\t},\n\n\twatch: {\n\t\trooms(val) {\n\t\t\tthis.filteredRooms = val\n\t\t},\n\t\troom(val) {\n\t\t\tif (val) this.selectedRoomId = val.roomId\n\t\t}\n\t},\n\n\tmethods: {\n\t\tsearchRoom(ev) {\n\t\t\tthis.filteredRooms = filteredUsers(\n\t\t\t\tthis.rooms,\n\t\t\t\t'roomName',\n\t\t\t\tev.target.value\n\t\t\t)\n\t\t},\n\t\topenRoom(room) {\n\t\t\tif (room.roomId === this.room.roomId && !this.isMobile) return\n\t\t\tthis.selectedRoomId = room.roomId\n\t\t\tthis.$emit('fetchRoom', { room })\n\t\t},\n\t\taddRoom() {\n\t\t\tthis.$emit('addRoom')\n\t\t},\n\t\tuserStatus(room) {\n\t\t\tif (!room.users || room.users.length !== 2) return\n\n\t\t\tconst user = room.users.find(u => u._id !== this.currentUserId)\n\n\t\t\tif (user.status) return user.status.state\n\t\t},\n\t\tgetLastMessage(room) {\n\t\t\tconst content = room.lastMessage.deleted\n\t\t\t\t? this.textMessages.MESSAGE_DELETED\n\t\t\t\t: room.lastMessage.content\n\n\t\t\tif (room.users.length <= 2) {\n\t\t\t\treturn content\n\t\t\t}\n\n\t\t\tconst user = room.users.find(\n\t\t\t\tuser => user._id === room.lastMessage.sender_id\n\t\t\t)\n\n\t\t\tif (user._id === this.currentUserId) {\n\t\t\t\treturn content\n\t\t\t}\n\n\t\t\treturn `${user.username} - ${content}`\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.rooms-container {\n\tdisplay: flex;\n\tflex-flow: column;\n\tflex: 0 0 25%;\n\tmin-width: 260px;\n\tmax-width: 500px;\n\tposition: relative;\n\tbackground: var(--chat-sidemenu-bg-color);\n\theight: 100%;\n\tborder-top-left-radius: var(--chat-container-border-radius);\n\tborder-bottom-left-radius: var(--chat-container-border-radius);\n}\n\n.rooms-container-full {\n\tflex: 0 0 100%;\n\tmax-width: 100%;\n}\n\n.box-search {\n\tposition: sticky;\n\tdisplay: flex;\n\talign-items: center;\n\theight: 64px;\n\tpadding: 0 15px;\n}\n\n.icon-search {\n\tdisplay: flex;\n\tposition: absolute;\n\tleft: 30px;\n\n\tsvg {\n\t\twidth: 18px;\n\t\theight: 18px;\n\t}\n}\n\n.add-icon {\n\tmargin-left: auto;\n\tpadding-left: 10px;\n}\n\ninput {\n\theight: 38px;\n\twidth: 100%;\n\tbackground: var(--chat-bg-color-input);\n\tcolor: var(--chat-color);\n\tborder-radius: 4px;\n\tfont-size: 15px;\n\toutline: 0;\n\tcaret-color: var(--chat-color-caret);\n\tpadding: 10px 10px 10px 40px;\n\tborder: 1px solid var(--chat-sidemenu-border-color-search);\n\tborder-radius: 20px;\n\n\t&::placeholder {\n\t\tcolor: var(--chat-color-placeholder);\n\t}\n}\n\n.rooms-empty {\n\tfont-size: 14px;\n\tcolor: #9ca6af;\n\tfont-style: italic;\n\ttext-align: center;\n\tmargin: 40px 0;\n\tline-height: 20px;\n\twhite-space: pre-line;\n}\n\n.room-list {\n\tflex: 1;\n\tposition: relative;\n\tmax-width: 100%;\n\tcursor: pointer;\n\tpadding: 0 10px 5px;\n\toverflow-y: auto;\n}\n\n.room-item {\n\tborder-radius: 8px;\n\talign-items: center;\n\tdisplay: flex;\n\tflex: 1 1 100%;\n\tmargin-bottom: 5px;\n\tpadding: 0 16px;\n\tposition: relative;\n\tmin-height: 71px;\n\n\t&:hover {\n\t\tbackground: var(--chat-sidemenu-bg-color-hover);\n\t\ttransition: background-color 0.3s cubic-bezier(0.25, 0.8, 0.5, 1);\n\t}\n\n\t&:not(:hover) {\n\t\ttransition: background-color 0.3s cubic-bezier(0.25, 0.8, 0.5, 1);\n\t}\n}\n\n.room-selected {\n\tcolor: var(--chat-sidemenu-color-active) !important;\n\tbackground: var(--chat-sidemenu-bg-color-active) !important;\n\n\t&:hover {\n\t\tbackground: var(--chat-sidemenu-bg-color-active) !important;\n\t}\n}\n\n.name-container {\n\tflex: 1;\n}\n\n.title-container {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 25px;\n}\n\n.text-ellipsis {\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.room-name {\n\tflex: 1;\n\tcolor: var(--chat-room-color-username);\n\tfont-weight: 500;\n}\n\n.text-last {\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 12px;\n\tline-height: 17px;\n\tcolor: var(--chat-room-color-message);\n}\n\n.message-new {\n\tcolor: var(--chat-room-color-username);\n\tfont-weight: 500;\n}\n\n.text-date {\n\tmargin-left: 5px;\n\tfont-size: 11px;\n\tcolor: var(--chat-room-color-timestamp);\n}\n\n.icon-check {\n\tdisplay: flex;\n\theight: 14px;\n\twidth: 14px;\n\tmargin-top: -2px;\n\tmargin-right: 2px;\n}\n\n.state-circle {\n\twidth: 9px;\n\theight: 9px;\n\tborder-radius: 50%;\n\tbackground-color: var(--chat-room-color-offline);\n\tmargin-right: 6px;\n\ttransition: 0.3s;\n}\n\n.state-online {\n\tbackground-color: var(--chat-room-color-online);\n}\n\n@media only screen and (max-width: 768px) {\n\t.box-search {\n\t\theight: 58px;\n\t}\n\n\t.room-list {\n\t\tpadding: 0 7px 5px;\n\t}\n\n\t.room-item {\n\t\tmin-height: 60px;\n\t\tpadding: 0 8px;\n\t}\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomsList.vue?vue&type=template&id=7932a15f&scoped=true&\"\nimport script from \"./RoomsList.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoomsList.vue?vue&type=style&index=0&id=7932a15f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7932a15f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.isMobile && !_vm.showRoomsList) || !_vm.isMobile),expression:\"(isMobile && !showRoomsList) || !isMobile\"}],staticClass:\"col-messages\"},[_c('div',{staticClass:\"room-header app-border-b\"},[_c('div',{staticClass:\"room-wrapper\"},[(!_vm.singleRoom)?_c('div',{staticClass:\"svg-button toggle-button\",class:{ 'rotate-icon': !_vm.showRoomsList && !_vm.isMobile },on:{\"click\":function($event){return _vm.$emit('toggleRoomsList')}}},[_c('svg-icon',{attrs:{\"name\":\"toggle\"}})],1):_vm._e(),_c('div',{staticClass:\"info-wrapper\",class:{ 'item-clickable': _vm.roomInfo },on:{\"click\":function($event){return _vm.$emit('roomInfo', _vm.room)}}},[(_vm.room.avatar)?_c('div',{staticClass:\"room-avatar\",style:({ 'background-image': (\"url('\" + (_vm.room.avatar) + \"')\") })}):_vm._e(),_c('div',[_c('div',{staticClass:\"room-name\"},[_vm._v(_vm._s(_vm.room.roomName))]),(_vm.typingUsers)?_c('div',{staticClass:\"room-info\"},[_vm._v(\" \"+_vm._s(_vm.typingUsers)+\" \"+_vm._s(_vm.textMessages.IS_TYPING)+\" \")]):_c('div',{staticClass:\"room-info\"},[_vm._v(\" \"+_vm._s(_vm.userStatus)+\" \")])])]),(_vm.menuActions.length)?_c('div',{staticClass:\"svg-button room-options\",on:{\"click\":function($event){_vm.menuOpened = !_vm.menuOpened}}},[_c('svg-icon',{attrs:{\"name\":\"menu\"}})],1):_vm._e(),(_vm.menuActions.length)?_c('transition',{attrs:{\"name\":\"slide-left\"}},[(_vm.menuOpened)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.closeMenu),expression:\"closeMenu\"}],staticClass:\"menu-options\"},[_c('div',{staticClass:\"menu-list\"},_vm._l((_vm.menuActions),function(action){return _c('div',{key:action.name},[_c('div',{staticClass:\"menu-item\",on:{\"click\":function($event){return _vm.menuActionHandler(action)}}},[_vm._v(\" \"+_vm._s(action.title)+\" \")])])}),0)]):_vm._e()]):_vm._e()],1)]),_c('div',{ref:\"scrollContainer\",staticClass:\"container-scroll\"},[_c('loader',{attrs:{\"show\":_vm.loadingMessages}}),_c('div',{staticClass:\"messages-container\"},[_c('div',{class:{ 'messages-hidden': _vm.loadingMessages }},[_c('transition',{attrs:{\"name\":\"fade-message\"}},[(_vm.showNoMessages)?_c('div',{staticClass:\"text-started\"},[_vm._v(\" \"+_vm._s(_vm.textMessages.MESSAGES_EMPTY)+\" \")]):_vm._e(),(_vm.showMessagesStarted)?_c('div',{staticClass:\"text-started\"},[_vm._v(\" \"+_vm._s(_vm.textMessages.CONVERSATION_STARTED)+\" \"+_vm._s(_vm.messages[0].date)+\" \")]):_vm._e()]),_c('transition',{attrs:{\"name\":\"fade-message\"}},[(_vm.messages.length)?_c('infinite-loading',{attrs:{\"spinner\":\"spiral\",\"direction\":\"top\"},on:{\"infinite\":_vm.loadMoreMessages}},[_c('div',{attrs:{\"slot\":\"spinner\"},slot:\"spinner\"},[_c('loader',{attrs:{\"show\":true,\"infinite\":true}})],1),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"}),_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"})]):_vm._e()],1),_c('transition-group',{attrs:{\"name\":\"fade-message\"}},_vm._l((_vm.messages),function(message,i){return _c('div',{key:message._id},[_c('message',{attrs:{\"currentUserId\":_vm.currentUserId,\"message\":message,\"index\":i,\"messages\":_vm.messages,\"editedMessage\":_vm.editedMessage,\"messageActions\":_vm.messageActions,\"roomUsers\":_vm.room.users,\"textMessages\":_vm.textMessages,\"roomFooterRef\":_vm.$refs.roomFooter,\"newMessages\":_vm.newMessages,\"showReactionEmojis\":_vm.showReactionEmojis,\"textFormatting\":_vm.textFormatting,\"emojisList\":_vm.emojisList,\"hideOptions\":_vm.hideOptions},on:{\"messageActionHandler\":_vm.messageActionHandler,\"openFile\":_vm.openFile,\"addNewMessage\":_vm.addNewMessage,\"sendMessageReaction\":_vm.sendMessageReaction,\"hideOptions\":function($event){_vm.hideOptions = $event}}})],1)}),0)],1)])],1),(!_vm.loadingMessages)?_c('div',[_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.scrollIcon)?_c('div',{staticClass:\"icon-scroll\",on:{\"click\":_vm.scrollToBottom}},[_c('svg-icon',{attrs:{\"name\":\"dropdown\",\"param\":\"scroll\"}})],1):_vm._e()])],1):_vm._e(),(Object.keys(_vm.room).length)?_c('div',{ref:\"roomFooter\",staticClass:\"room-footer\"},[_c('transition',{attrs:{\"name\":\"slide-up\"}},[(_vm.messageReply)?_c('div',{staticClass:\"reply-container\"},[_c('div',{staticClass:\"reply-box\"},[(_vm.isImageCheck(_vm.messageReply.file))?_c('img',{staticClass:\"image-reply\",attrs:{\"src\":_vm.messageReply.file.url}}):_vm._e(),_c('div',{staticClass:\"reply-info\"},[_c('div',{staticClass:\"reply-username\"},[_vm._v(_vm._s(_vm.messageReply.username))]),_c('div',{staticClass:\"reply-content\"},[_vm._v(_vm._s(_vm.messageReply.content))])])]),_c('div',{staticClass:\"icon-reply\"},[_c('div',{staticClass:\"svg-button\",on:{\"click\":_vm.resetMessage}},[_c('svg-icon',{attrs:{\"name\":\"close-outline\"}})],1)])]):_vm._e()]),_c('div',{staticClass:\"box-footer\"},[(_vm.imageFile)?_c('div',{staticClass:\"image-container\"},[_c('div',{staticClass:\"svg-button icon-image\",on:{\"click\":_vm.resetImageFile}},[_c('svg-icon',{attrs:{\"name\":\"close\",\"param\":\"image\"}})],1),_c('div',{staticClass:\"image-file\"},[_c('img',{ref:\"imageFile\",attrs:{\"src\":_vm.imageFile}})])]):(_vm.file)?_c('div',{staticClass:\"file-container\",class:{ 'file-container-edit': _vm.editedMessage._id }},[_c('div',{staticClass:\"icon-file\"},[_c('svg-icon',{attrs:{\"name\":\"file\"}})],1),_c('div',{staticClass:\"file-message\"},[_vm._v(_vm._s(_vm.message))]),_c('div',{staticClass:\"svg-button icon-remove\",on:{\"click\":function($event){return _vm.resetMessage(null, true)}}},[_c('svg-icon',{attrs:{\"name\":\"close\"}})],1)]):_vm._e(),_c('textarea',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.file || _vm.imageFile),expression:\"!file || imageFile\"},{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"}],ref:\"roomTextarea\",class:{\n\t\t\t\t\t'textarea-outline': _vm.editedMessage._id\n\t\t\t\t},style:({\n\t\t\t\t\t'min-height': ((_vm.imageDimensions ? _vm.imageDimensions.height : 20) + \"px\"),\n\t\t\t\t\t'padding-left': ((_vm.imageDimensions ? _vm.imageDimensions.width - 10 : 12) + \"px\")\n\t\t\t\t}),attrs:{\"placeholder\":_vm.textMessages.TYPE_MESSAGE},domProps:{\"value\":(_vm.message)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.message=$event.target.value},_vm.onChangeInput],\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.resetMessage($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }$event.preventDefault();}]}}),_c('div',{staticClass:\"icon-textarea\"},[(_vm.editedMessage._id)?_c('div',{staticClass:\"svg-button\",on:{\"click\":_vm.resetMessage}},[_c('svg-icon',{attrs:{\"name\":\"close-outline\"}})],1):_vm._e(),(_vm.showEmojis && (!_vm.file || _vm.imageFile))?_c('emoji-picker',{attrs:{\"emojiOpened\":_vm.emojiOpened,\"positionTop\":true},on:{\"addEmoji\":_vm.addEmoji,\"openEmoji\":function($event){_vm.emojiOpened = $event}}}):_vm._e(),(_vm.showFiles)?_c('div',{staticClass:\"svg-button\",on:{\"click\":_vm.launchFilePicker}},[_c('svg-icon',{attrs:{\"name\":\"paperclip\"}})],1):_vm._e(),(_vm.showFiles)?_c('input',{ref:\"file\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\"},on:{\"change\":function($event){return _vm.onFileChange($event.target.files)}}}):_vm._e(),_c('div',{staticClass:\"svg-button\",class:{ 'send-disabled': _vm.inputDisabled },on:{\"click\":_vm.sendMessage}},[_c('svg-icon',{attrs:{\"name\":\"send\",\"param\":_vm.inputDisabled ? 'disabled' : ''}})],1)],1)])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.showDate)?_c('div',{staticClass:\"card-date\"},[_vm._v(\" \"+_vm._s(_vm.message.date)+\" \")]):_vm._e(),(_vm.newMessage._id === _vm.message._id)?_c('div',{staticClass:\"line-new\"},[_vm._v(\" \"+_vm._s(_vm.textMessages.NEW_MESSAGES)+\" \")]):_vm._e(),_c('div',{staticClass:\"message-box\",class:{ 'offset-current': _vm.message.sender_id === _vm.currentUserId }},[_c('div',{staticClass:\"message-container\",class:{\n\t\t\t\t'message-container-offset': _vm.messageOffset\n\t\t\t}},[_c('div',{ref:\"imageRef\",staticClass:\"message-card\",class:{\n\t\t\t\t\t'message-highlight': _vm.isMessageHover(_vm.message),\n\t\t\t\t\t'message-current': _vm.message.sender_id === _vm.currentUserId,\n\t\t\t\t\t'message-deleted': _vm.message.deleted\n\t\t\t\t},on:{\"mouseover\":function($event){return _vm.onHoverMessage(_vm.message)},\"mouseleave\":_vm.onLeaveMessage}},[(_vm.roomUsers.length > 2 && _vm.message.sender_id !== _vm.currentUserId)?_c('div',{staticClass:\"text-username\",class:{\n\t\t\t\t\t\t'username-reply': !_vm.message.deleted && _vm.message.replyMessage\n\t\t\t\t\t}},[_c('span',[_vm._v(_vm._s(_vm.message.username))])]):_vm._e(),(!_vm.message.deleted && _vm.message.replyMessage)?_c('div',{staticClass:\"reply-message\"},[_c('div',{staticClass:\"reply-username\"},[_vm._v(_vm._s(_vm.replyUsername))]),(_vm.isImageReply)?_c('div',{staticClass:\"image-reply-container\"},[_c('div',{staticClass:\"message-image message-image-reply\",style:({\n\t\t\t\t\t\t\t\t'background-image': (\"url('\" + (_vm.message.replyMessage.file.url) + \"')\")\n\t\t\t\t\t\t\t})})]):_vm._e(),_c('div',{staticClass:\"reply-content\"},[_vm._v(_vm._s(_vm.message.replyMessage.content))])]):_vm._e(),(_vm.message.deleted)?_c('div',[_c('svg-icon',{staticClass:\"icon-deleted\",attrs:{\"name\":\"deleted\"}}),_c('span',[_vm._v(_vm._s(_vm.textMessages.MESSAGE_DELETED))])],1):(!_vm.message.file)?_c('div',[_c('format-message',{attrs:{\"content\":this.message.content,\"textFormatting\":_vm.textFormatting}})],1):(_vm.isImage)?_c('div',{staticClass:\"image-container\"},[_c('loader',{style:({ top: ((_vm.imageResponsive.loaderTop) + \"px\") }),attrs:{\"show\":_vm.isImageLoading}}),_c('div',{staticClass:\"message-image\",class:{\n\t\t\t\t\t\t\t'image-loading':\n\t\t\t\t\t\t\t\t_vm.isImageLoading && _vm.message.sender_id === _vm.currentUserId\n\t\t\t\t\t\t},style:({\n\t\t\t\t\t\t\t'background-image': (\"url('\" + (_vm.message.file.url) + \"')\"),\n\t\t\t\t\t\t\t'max-height': ((_vm.imageResponsive.maxHeight) + \"px\")\n\t\t\t\t\t\t})},[_c('transition',{attrs:{\"name\":\"fade-image\"}},[(_vm.imageHover && !_vm.isImageLoading)?_c('div',{staticClass:\"image-buttons\"},[_c('div',{staticClass:\"svg-button button-view\",on:{\"click\":function($event){$event.stopPropagation();return _vm.openFile(_vm.message.file)}}},[_c('svg-icon',{attrs:{\"name\":\"eye\"}})],1),_c('div',{staticClass:\"svg-button button-download\",on:{\"click\":function($event){$event.stopPropagation();return _vm.openFile(_vm.message.file)}}},[_c('svg-icon',{attrs:{\"name\":\"document\"}})],1)]):_vm._e()])],1),_c('format-message',{attrs:{\"content\":this.message.content,\"textFormatting\":_vm.textFormatting}})],1):_c('div',{staticClass:\"file-message\"},[_c('div',{staticClass:\"svg-button icon-file\",on:{\"click\":function($event){$event.stopPropagation();return _vm.openFile(_vm.message.file)}}},[_c('svg-icon',{attrs:{\"name\":\"document\"}})],1),_c('span',[_vm._v(_vm._s(_vm.message.content))])]),_c('div',{staticClass:\"text-timestamp\"},[(_vm.message.edited && !_vm.message.deleted)?_c('div',{staticClass:\"icon-edited\"},[_c('svg-icon',{attrs:{\"name\":\"pencil\"}})],1):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.message.timestamp))]),(_vm.isMessageSeen)?_c('span',[_c('svg-icon',{staticClass:\"icon-check\",attrs:{\"name\":\"checkmark\"}})],1):_vm._e()]),_c('div',{staticClass:\"options-container\",class:{ 'options-image': _vm.isImage && !_vm.message.replyMessage },style:({\n\t\t\t\t\t\twidth:\n\t\t\t\t\t\t\t_vm.filteredMessageActions.length && _vm.showReactionEmojis\n\t\t\t\t\t\t\t\t? '70px'\n\t\t\t\t\t\t\t\t: '45px'\n\t\t\t\t\t})},[_c('transition-group',{attrs:{\"name\":\"slide-left\"}},[(_vm.isMessageActions || _vm.isMessageReactions)?_c('div',{key:\"1\",staticClass:\"blur-container\",class:{\n\t\t\t\t\t\t\t\t'options-me': _vm.message.sender_id === _vm.currentUserId\n\t\t\t\t\t\t\t}}):_vm._e(),(_vm.isMessageActions)?_c('div',{key:\"2\",ref:\"actionIcon\",staticClass:\"svg-button message-options\",on:{\"click\":_vm.openOptions}},[_c('svg-icon',{attrs:{\"name\":\"dropdown\",\"param\":\"message\"}})],1):_vm._e(),(_vm.isMessageReactions)?_c('emoji-picker',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.closeEmoji),expression:\"closeEmoji\"}],key:\"3\",staticClass:\"message-reactions\",style:({ right: _vm.isMessageActions ? '30px' : '5px' }),attrs:{\"emojiOpened\":_vm.emojiOpened,\"emojiReaction\":true,\"roomFooterRef\":_vm.roomFooterRef,\"positionRight\":_vm.message.sender_id === _vm.currentUserId},on:{\"addEmoji\":_vm.sendMessageReaction,\"openEmoji\":_vm.openEmoji}}):_vm._e()],1)],1),(_vm.filteredMessageActions.length)?_c('transition',{attrs:{\"name\":_vm.message.sender_id === _vm.currentUserId ? 'slide-left' : 'slide-right'}},[(_vm.optionsOpened)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.closeOptions),expression:\"closeOptions\"}],ref:\"menuOptions\",staticClass:\"menu-options\",class:{ 'menu-left': _vm.message.sender_id !== _vm.currentUserId },style:({ top: (_vm.menuOptionsTop + \"px\") })},[_c('div',{staticClass:\"menu-list\"},_vm._l((_vm.filteredMessageActions),function(action){return _c('div',{key:action.name},[_c('div',{staticClass:\"menu-item\",on:{\"click\":function($event){return _vm.messageActionHandler(action)}}},[_vm._v(\" \"+_vm._s(action.title)+\" \")])])}),0)]):_vm._e()]):_vm._e()],1),(!_vm.message.deleted)?_c('transition-group',{attrs:{\"name\":\"slide-left\"}},_vm._l((_vm.message.reactions),function(reaction,key){return _c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(reaction.length),expression:\"reaction.length\"}],key:key + 0,staticClass:\"button-reaction\",class:{\n\t\t\t\t\t\t'reaction-me': reaction.indexOf(_vm.currentUserId) !== -1\n\t\t\t\t\t},style:({\n\t\t\t\t\t\tfloat: _vm.message.sender_id === _vm.currentUserId ? 'right' : 'left'\n\t\t\t\t\t}),on:{\"click\":function($event){return _vm.sendMessageReaction({ name: key }, reaction)}}},[_vm._v(\" \"+_vm._s(_vm.getEmojiByName(key))),_c('span',[_vm._v(_vm._s(reaction.length))])])}),0):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('emoji-picker',{attrs:{\"search\":_vm.search},on:{\"emoji\":_vm.append},scopedSlots:_vm._u([{key:\"emoji-invoker\",fn:function(ref){\nvar clickEvent = ref.events.click;\nreturn _c('div',{staticClass:\"svg-button\",class:{ 'button-reaction': _vm.emojiReaction },on:{\"click\":[function($event){$event.stopPropagation();return clickEvent($event)},_vm.openEmoji]}},[_c('svg-icon',{attrs:{\"name\":\"emoji\",\"param\":_vm.emojiReaction ? 'reaction' : ''}})],1)}},{key:\"emoji-picker\",fn:function(ref){\nvar emojis = ref.emojis;\nvar insert = ref.insert;\nreturn (_vm.emojiOpened)?_c('div',{},[_c('transition',{attrs:{\"name\":\"slide-up\",\"appear\":\"\"}},[_c('div',{staticClass:\"emoji-picker\",class:{ 'picker-reaction': _vm.emojiReaction },style:({\n\t\t\t\t\t\theight: (_vm.emojiPickerHeight + \"px\"),\n\t\t\t\t\t\ttop: _vm.positionTop ? _vm.emojiPickerHeight : (_vm.emojiPickerTop + \"px\"),\n\t\t\t\t\t\tright: _vm.emojiPickerRight,\n\t\t\t\t\t\tdisplay: _vm.emojiPickerTop || !_vm.emojiReaction ? 'initial' : 'none'\n\t\t\t\t\t})},[_c('div',{staticClass:\"emoji-picker__search\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}})]),_c('div',_vm._l((emojis),function(emojiGroup,category){return _c('div',{key:category},[(category !== 'Frequently used')?_c('h5',[_vm._v(_vm._s(category))]):_vm._e(),(category !== 'Frequently used')?_c('div',{staticClass:\"emojis\"},_vm._l((emojiGroup),function(emoji,emojiName){return _c('span',{key:emojiName,attrs:{\"title\":emojiName},on:{\"click\":function($event){return insert({ emoji: emoji, emojiName: emojiName })}}},[_vm._v(\" \"+_vm._s(emoji)+\" \")])}),0):_vm._e()])}),0)])])],1):_vm._e()}}],null,true)})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"wrapper\">\n\t\t<emoji-picker @emoji=\"append\" :search=\"search\">\n\t\t\t<div\n\t\t\t\tclass=\"svg-button\"\n\t\t\t\t:class=\"{ 'button-reaction': emojiReaction }\"\n\t\t\t\tslot=\"emoji-invoker\"\n\t\t\t\tslot-scope=\"{ events: { click: clickEvent } }\"\n\t\t\t\t@click.stop=\"clickEvent\"\n\t\t\t\t@click=\"openEmoji\"\n\t\t\t>\n\t\t\t\t<svg-icon name=\"emoji\" :param=\"emojiReaction ? 'reaction' : ''\" />\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tslot=\"emoji-picker\"\n\t\t\t\tslot-scope=\"{ emojis, insert }\"\n\t\t\t\tv-if=\"emojiOpened\"\n\t\t\t>\n\t\t\t\t<transition name=\"slide-up\" appear>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"emoji-picker\"\n\t\t\t\t\t\t:class=\"{ 'picker-reaction': emojiReaction }\"\n\t\t\t\t\t\t:style=\"{\n\t\t\t\t\t\t\theight: `${emojiPickerHeight}px`,\n\t\t\t\t\t\t\ttop: positionTop ? emojiPickerHeight : `${emojiPickerTop}px`,\n\t\t\t\t\t\t\tright: emojiPickerRight,\n\t\t\t\t\t\t\tdisplay: emojiPickerTop || !emojiReaction ? 'initial' : 'none'\n\t\t\t\t\t\t}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"emoji-picker__search\">\n\t\t\t\t\t\t\t<input type=\"text\" v-model=\"search\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div v-for=\"(emojiGroup, category) in emojis\" :key=\"category\">\n\t\t\t\t\t\t\t\t<h5 v-if=\"category !== 'Frequently used'\">{{ category }}</h5>\n\t\t\t\t\t\t\t\t<div class=\"emojis\" v-if=\"category !== 'Frequently used'\">\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tv-for=\"(emoji, emojiName) in emojiGroup\"\n\t\t\t\t\t\t\t\t\t\t:key=\"emojiName\"\n\t\t\t\t\t\t\t\t\t\t@click=\"insert({ emoji, emojiName })\"\n\t\t\t\t\t\t\t\t\t\t:title=\"emojiName\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{{ emoji }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</transition>\n\t\t\t</div>\n\t\t</emoji-picker>\n\t</div>\n</template>\n\n<script>\nimport EmojiPicker from 'vue-emoji-picker'\n\nimport SvgIcon from './SvgIcon'\n\nexport default {\n\tcomponents: {\n\t\tEmojiPicker,\n\t\tSvgIcon\n\t},\n\tprops: [\n\t\t'emojiOpened',\n\t\t'emojiReaction',\n\t\t'roomFooterRef',\n\t\t'positionTop',\n\t\t'positionRight'\n\t],\n\tdata() {\n\t\treturn {\n\t\t\tsearch: '',\n\t\t\temojiPickerHeight: 320,\n\t\t\temojiPickerTop: 0,\n\t\t\temojiPickerRight: ''\n\t\t}\n\t},\n\tmethods: {\n\t\tappend({ emoji, emojiName }) {\n\t\t\tthis.$emit('addEmoji', { icon: emoji, name: emojiName })\n\t\t},\n\t\topenEmoji(ev) {\n\t\t\tthis.$emit('openEmoji', true)\n\t\t\tthis.setEmojiPickerPosition(\n\t\t\t\tev.clientY,\n\t\t\t\tev.view.innerWidth,\n\t\t\t\tev.view.innerHeight\n\t\t\t)\n\t\t},\n\t\tsetEmojiPickerPosition(clientY, innerWidth, innerHeight) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst mobileSize = innerWidth < 500 || innerHeight < 700\n\n\t\t\t\tif (!this.roomFooterRef) {\n\t\t\t\t\tif (mobileSize) this.emojiPickerRight = '0px'\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tif (mobileSize) {\n\t\t\t\t\tthis.emojiPickerRight = innerWidth / 2 - 120 + 'px'\n\t\t\t\t\tthis.emojiPickerTop = 100\n\t\t\t\t\tthis.emojiPickerHeight = innerHeight - 200\n\t\t\t\t} else {\n\t\t\t\t\tconst roomFooterTop = this.roomFooterRef.getBoundingClientRect().top\n\t\t\t\t\tconst pickerTopPosition =\n\t\t\t\t\t\troomFooterTop - clientY > this.emojiPickerHeight - 50\n\n\t\t\t\t\tif (pickerTopPosition) this.emojiPickerTop = clientY + 10\n\t\t\t\t\telse this.emojiPickerTop = clientY - this.emojiPickerHeight - 10\n\n\t\t\t\t\tthis.emojiPickerRight = this.positionTop\n\t\t\t\t\t\t? '-50px'\n\t\t\t\t\t\t: this.positionRight\n\t\t\t\t\t\t? '60px'\n\t\t\t\t\t\t: ''\n\t\t\t\t}\n\t\t\t}, 0)\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.wrapper {\n\tposition: relative;\n\tdisplay: flex;\n}\n\n.emoji-picker {\n\tposition: absolute;\n\tz-index: 9999;\n\tbottom: 32px;\n\tright: 10px;\n\twidth: 240px;\n\toverflow: scroll;\n\tpadding: 16px;\n\tbox-sizing: border-box;\n\tborder-radius: 0.5rem;\n\tbackground: var(--chat-emoji-bg-color);\n\tbox-shadow: 0 1px 2px -2px rgba(0, 0, 0, 0.1),\n\t\t0 1px 2px -1px rgba(0, 0, 0, 0.1), 0 1px 2px 1px rgba(0, 0, 0, 0.1);\n}\n\n.picker-reaction {\n\tposition: fixed;\n\ttop: initial;\n\tright: initial;\n}\n\n.emoji-picker__search {\n\tdisplay: flex;\n}\n\n.emoji-picker__search > input {\n\tflex: 1;\n\tborder-radius: 10rem;\n\tborder: var(--chat-border-style);\n\tpadding: 5px 10px;\n\toutline: none;\n\tbackground: var(--chat-bg-color-input);\n\tcolor: var(--chat-color);\n}\n\n.emoji-picker h5 {\n\tmargin: 15px 0 8px;\n\tcolor: #b1b1b1;\n\ttext-transform: uppercase;\n\tfont-size: 0.8rem;\n\tcursor: default;\n}\n\n.emoji-picker .emojis {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: space-between;\n}\n\n.emoji-picker .emojis:after {\n\tcontent: '';\n\tflex: auto;\n}\n\n.emoji-picker .emojis span {\n\tpadding: 0.2rem;\n\tcursor: pointer;\n\tborder-radius: 5px;\n}\n\n.emoji-picker .emojis span:hover {\n\tbackground: var(--chat-sidemenu-bg-color-hover);\n\tcursor: pointer;\n}\n\n.button-reaction svg {\n\theight: 19px;\n\twidth: 19px;\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EmojiPicker.vue?vue&type=template&id=0b9bd2d4&scoped=true&\"\nimport script from \"./EmojiPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./EmojiPicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EmojiPicker.vue?vue&type=style&index=0&id=0b9bd2d4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b9bd2d4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div>\n\t\t<div v-if=\"showDate\" class=\"card-date\">\n\t\t\t{{ message.date }}\n\t\t</div>\n\n\t\t<div v-if=\"newMessage._id === message._id\" class=\"line-new\">\n\t\t\t{{ textMessages.NEW_MESSAGES }}\n\t\t</div>\n\n\t\t<div\n\t\t\tclass=\"message-box\"\n\t\t\t:class=\"{ 'offset-current': message.sender_id === currentUserId }\"\n\t\t>\n\t\t\t<div\n\t\t\t\tclass=\"message-container\"\n\t\t\t\t:class=\"{\n\t\t\t\t\t'message-container-offset': messageOffset\n\t\t\t\t}\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tref=\"imageRef\"\n\t\t\t\t\tclass=\"message-card\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'message-highlight': isMessageHover(message),\n\t\t\t\t\t\t'message-current': message.sender_id === currentUserId,\n\t\t\t\t\t\t'message-deleted': message.deleted\n\t\t\t\t\t}\"\n\t\t\t\t\t@mouseover=\"onHoverMessage(message)\"\n\t\t\t\t\t@mouseleave=\"onLeaveMessage\"\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"roomUsers.length > 2 && message.sender_id !== currentUserId\"\n\t\t\t\t\t\tclass=\"text-username\"\n\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t'username-reply': !message.deleted && message.replyMessage\n\t\t\t\t\t\t}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>{{ message.username }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"!message.deleted && message.replyMessage\"\n\t\t\t\t\t\tclass=\"reply-message\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"reply-username\">{{ replyUsername }}</div>\n\n\t\t\t\t\t\t<div class=\"image-reply-container\" v-if=\"isImageReply\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"message-image message-image-reply\"\n\t\t\t\t\t\t\t\t:style=\"{\n\t\t\t\t\t\t\t\t\t'background-image': `url('${message.replyMessage.file.url}')`\n\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"reply-content\">{{ message.replyMessage.content }}</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div v-if=\"message.deleted\">\n\t\t\t\t\t\t<svg-icon name=\"deleted\" class=\"icon-deleted\" />\n\t\t\t\t\t\t<span>{{ textMessages.MESSAGE_DELETED }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div v-else-if=\"!message.file\">\n\t\t\t\t\t\t<format-message\n\t\t\t\t\t\t\t:content=\"this.message.content\"\n\t\t\t\t\t\t\t:textFormatting=\"textFormatting\"\n\t\t\t\t\t\t></format-message>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"image-container\" v-else-if=\"isImage\">\n\t\t\t\t\t\t<loader\n\t\t\t\t\t\t\t:style=\"{ top: `${imageResponsive.loaderTop}px` }\"\n\t\t\t\t\t\t\t:show=\"isImageLoading\"\n\t\t\t\t\t\t></loader>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"message-image\"\n\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\t'image-loading':\n\t\t\t\t\t\t\t\t\tisImageLoading && message.sender_id === currentUserId\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t:style=\"{\n\t\t\t\t\t\t\t\t'background-image': `url('${message.file.url}')`,\n\t\t\t\t\t\t\t\t'max-height': `${imageResponsive.maxHeight}px`\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<transition name=\"fade-image\">\n\t\t\t\t\t\t\t\t<div class=\"image-buttons\" v-if=\"imageHover && !isImageLoading\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"svg-button button-view\"\n\t\t\t\t\t\t\t\t\t\t@click.stop=\"openFile(message.file)\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<svg-icon name=\"eye\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"svg-button button-download\"\n\t\t\t\t\t\t\t\t\t\t@click.stop=\"openFile(message.file)\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<svg-icon name=\"document\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</transition>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<format-message\n\t\t\t\t\t\t\t:content=\"this.message.content\"\n\t\t\t\t\t\t\t:textFormatting=\"textFormatting\"\n\t\t\t\t\t\t></format-message>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div v-else class=\"file-message\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"svg-button icon-file\"\n\t\t\t\t\t\t\t@click.stop=\"openFile(message.file)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg-icon name=\"document\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span>{{ message.content }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"text-timestamp\">\n\t\t\t\t\t\t<div class=\"icon-edited\" v-if=\"message.edited && !message.deleted\">\n\t\t\t\t\t\t\t<svg-icon name=\"pencil\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span>{{ message.timestamp }}</span>\n\t\t\t\t\t\t<span v-if=\"isMessageSeen\">\n\t\t\t\t\t\t\t<svg-icon name=\"checkmark\" class=\"icon-check\" />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"options-container\"\n\t\t\t\t\t\t:class=\"{ 'options-image': isImage && !message.replyMessage }\"\n\t\t\t\t\t\t:style=\"{\n\t\t\t\t\t\t\twidth:\n\t\t\t\t\t\t\t\tfilteredMessageActions.length && showReactionEmojis\n\t\t\t\t\t\t\t\t\t? '70px'\n\t\t\t\t\t\t\t\t\t: '45px'\n\t\t\t\t\t\t}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<transition-group name=\"slide-left\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey=\"1\"\n\t\t\t\t\t\t\t\tclass=\"blur-container\"\n\t\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\t\t'options-me': message.sender_id === currentUserId\n\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\tv-if=\"isMessageActions || isMessageReactions\"\n\t\t\t\t\t\t\t></div>\n\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tref=\"actionIcon\"\n\t\t\t\t\t\t\t\tkey=\"2\"\n\t\t\t\t\t\t\t\tclass=\"svg-button message-options\"\n\t\t\t\t\t\t\t\tv-if=\"isMessageActions\"\n\t\t\t\t\t\t\t\t@click=\"openOptions\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg-icon name=\"dropdown\" param=\"message\" />\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<emoji-picker\n\t\t\t\t\t\t\t\tkey=\"3\"\n\t\t\t\t\t\t\t\tclass=\"message-reactions\"\n\t\t\t\t\t\t\t\t:style=\"{ right: isMessageActions ? '30px' : '5px' }\"\n\t\t\t\t\t\t\t\tv-if=\"isMessageReactions\"\n\t\t\t\t\t\t\t\tv-click-outside=\"closeEmoji\"\n\t\t\t\t\t\t\t\t:emojiOpened=\"emojiOpened\"\n\t\t\t\t\t\t\t\t:emojiReaction=\"true\"\n\t\t\t\t\t\t\t\t:roomFooterRef=\"roomFooterRef\"\n\t\t\t\t\t\t\t\t:positionRight=\"message.sender_id === currentUserId\"\n\t\t\t\t\t\t\t\t@addEmoji=\"sendMessageReaction\"\n\t\t\t\t\t\t\t\t@openEmoji=\"openEmoji\"\n\t\t\t\t\t\t\t></emoji-picker>\n\t\t\t\t\t\t</transition-group>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<transition\n\t\t\t\t\t\t:name=\"\n\t\t\t\t\t\t\tmessage.sender_id === currentUserId ? 'slide-left' : 'slide-right'\n\t\t\t\t\t\t\"\n\t\t\t\t\t\tv-if=\"filteredMessageActions.length\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tref=\"menuOptions\"\n\t\t\t\t\t\t\tv-if=\"optionsOpened\"\n\t\t\t\t\t\t\tv-click-outside=\"closeOptions\"\n\t\t\t\t\t\t\tclass=\"menu-options\"\n\t\t\t\t\t\t\t:class=\"{ 'menu-left': message.sender_id !== currentUserId }\"\n\t\t\t\t\t\t\t:style=\"{ top: `${menuOptionsTop}px` }\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\"menu-list\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tv-for=\"action in filteredMessageActions\"\n\t\t\t\t\t\t\t\t\t:key=\"action.name\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"menu-item\" @click=\"messageActionHandler(action)\">\n\t\t\t\t\t\t\t\t\t\t{{ action.title }}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\t\t\t\t</div>\n\n\t\t\t\t<transition-group name=\"slide-left\" v-if=\"!message.deleted\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tv-for=\"(reaction, key) in message.reactions\"\n\t\t\t\t\t\tv-show=\"reaction.length\"\n\t\t\t\t\t\t:key=\"key + 0\"\n\t\t\t\t\t\tclass=\"button-reaction\"\n\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t'reaction-me': reaction.indexOf(currentUserId) !== -1\n\t\t\t\t\t\t}\"\n\t\t\t\t\t\t:style=\"{\n\t\t\t\t\t\t\tfloat: message.sender_id === currentUserId ? 'right' : 'left'\n\t\t\t\t\t\t}\"\n\t\t\t\t\t\t@click=\"sendMessageReaction({ name: key }, reaction)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ getEmojiByName(key) }}<span>{{ reaction.length }}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</transition-group>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport vClickOutside from 'v-click-outside'\n\nimport SvgIcon from './SvgIcon'\nimport Loader from './Loader'\nimport EmojiPicker from './EmojiPicker'\nimport FormatMessage from './FormatMessage'\n\nexport default {\n\tname: 'message',\n\tcomponents: { SvgIcon, Loader, EmojiPicker, FormatMessage },\n\n\tdirectives: {\n\t\tclickOutside: vClickOutside.directive\n\t},\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\ttextMessages: { type: Object, required: true },\n\t\tindex: { type: Number, required: true },\n\t\tmessage: { type: Object, required: true },\n\t\tmessages: { type: Array, required: true },\n\t\teditedMessage: { type: Object, required: true },\n\t\troomUsers: { type: Array, default: () => [] },\n\t\tmessageActions: { type: Array, required: true },\n\t\troomFooterRef: { type: HTMLDivElement },\n\t\tnewMessages: { type: Array },\n\t\tshowReactionEmojis: { type: Boolean, required: true },\n\t\ttextFormatting: { type: Boolean, required: true },\n\t\temojisList: { type: Object, required: true },\n\t\thideOptions: { type: Boolean, required: true }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\thoverMessageId: null,\n\t\t\timageLoading: false,\n\t\t\timageHover: false,\n\t\t\tmessageHover: false,\n\t\t\toptionsOpened: false,\n\t\t\toptionsClosing: false,\n\t\t\tmenuOptionsTop: 0,\n\t\t\tmessageReaction: '',\n\t\t\tnewMessage: {},\n\t\t\temojiOpened: false,\n\t\t\timageResponsive: ''\n\t\t}\n\t},\n\n\twatch: {\n\t\tmessage: {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tthis.checkImgLoad()\n\t\t\t}\n\t\t},\n\t\tnewMessages(val) {\n\t\t\tif (!val.length) return\n\t\t\tthis.newMessage = val.reduce((res, obj) =>\n\t\t\t\tobj.index < res.index ? obj : res\n\t\t\t)\n\t\t},\n\t\temojiOpened(val) {\n\t\t\tif (val) this.optionsOpened = false\n\t\t},\n\t\thideOptions(val) {\n\t\t\tif (val) {\n\t\t\t\tthis.closeEmoji()\n\t\t\t\tthis.closeOptions()\n\t\t\t}\n\t\t}\n\t},\n\n\tmounted() {\n\t\tif (!this.message.seen && this.message.sender_id !== this.currentUserId) {\n\t\t\tthis.$emit('addNewMessage', {\n\t\t\t\t_id: this.message._id,\n\t\t\t\tindex: this.index\n\t\t\t})\n\t\t}\n\t\tthis.imageResponsive = {\n\t\t\tmaxHeight: this.$refs.imageRef.clientWidth - 18,\n\t\t\tloaderTop: this.$refs.imageRef.clientWidth / 2\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tshowDate() {\n\t\t\treturn (\n\t\t\t\tthis.index > 0 &&\n\t\t\t\tthis.message.date !== this.messages[this.index - 1].date\n\t\t\t)\n\t\t},\n\t\tmessageOffset() {\n\t\t\treturn (\n\t\t\t\tthis.index > 0 &&\n\t\t\t\tthis.message.sender_id !== this.messages[this.index - 1].sender_id\n\t\t\t)\n\t\t},\n\t\tisImage() {\n\t\t\treturn this.checkImageFile()\n\t\t},\n\t\tisImageReply() {\n\t\t\treturn this.checkImageReplyFile()\n\t\t},\n\t\tisImageLoading() {\n\t\t\treturn (\n\t\t\t\tthis.message.file.url.indexOf('blob:http') !== -1 || this.imageLoading\n\t\t\t)\n\t\t},\n\t\tisMessageSeen() {\n\t\t\treturn (\n\t\t\t\tthis.message.sender_id === this.currentUserId &&\n\t\t\t\tthis.message.seen &&\n\t\t\t\t!this.message.deleted\n\t\t\t)\n\t\t},\n\t\treplyUsername() {\n\t\t\tconst { sender_id } = this.message.replyMessage\n\t\t\tconst replyUser = this.roomUsers.find(user => user._id === sender_id)\n\t\t\treturn replyUser ? replyUser.username : ''\n\t\t},\n\t\tisMessageActions() {\n\t\t\treturn (\n\t\t\t\tthis.filteredMessageActions.length &&\n\t\t\t\tthis.messageHover &&\n\t\t\t\t!this.message.deleted &&\n\t\t\t\t!this.message.disable_actions\n\t\t\t)\n\t\t},\n\t\tisMessageReactions() {\n\t\t\treturn (\n\t\t\t\tthis.showReactionEmojis &&\n\t\t\t\tthis.messageHover &&\n\t\t\t\t!this.message.deleted &&\n\t\t\t\t!this.message.disable_reactions\n\t\t\t)\n\t\t},\n\t\tfilteredMessageActions() {\n\t\t\treturn this.message.sender_id === this.currentUserId\n\t\t\t\t? this.messageActions\n\t\t\t\t: this.messageActions.filter(message => !message.onlyMe)\n\t\t}\n\t},\n\n\tmethods: {\n\t\tisMessageHover() {\n\t\t\treturn (\n\t\t\t\tthis.editedMessage._id === this.message._id ||\n\t\t\t\tthis.hoverMessageId === this.message._id\n\t\t\t)\n\t\t},\n\t\tonHoverMessage() {\n\t\t\tthis.imageHover = true\n\t\t\tthis.messageHover = true\n\t\t\tif (this.canEditMessage()) this.hoverMessageId = this.message._id\n\t\t},\n\t\tcanEditMessage() {\n\t\t\treturn !this.message.deleted\n\t\t},\n\t\tonLeaveMessage() {\n\t\t\tthis.imageHover = false\n\t\t\tif (!this.optionsOpened && !this.emojiOpened) this.messageHover = false\n\t\t\tthis.hoverMessageId = null\n\t\t},\n\t\topenFile() {\n\t\t\tthis.$emit('openFile', this.message)\n\t\t},\n\t\tmessageActionHandler(action) {\n\t\t\tthis.closeOptions()\n\t\t\tthis.messageHover = false\n\t\t\tthis.hoverMessageId = null\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.$emit('messageActionHandler', { action, message: this.message })\n\t\t\t}, 300)\n\t\t},\n\t\tcheckImageFile() {\n\t\t\treturn this.checkImageType(this.message.file)\n\t\t},\n\t\tcheckImageReplyFile() {\n\t\t\treturn this.checkImageType(this.message.replyMessage.file)\n\t\t},\n\t\tcheckImageType(file) {\n\t\t\tif (!file) return\n\t\t\tconst imageTypes = ['png', 'jpg', 'jpeg', 'svg']\n\t\t\tconst { type } = file\n\t\t\treturn imageTypes.some(t => type.includes(t))\n\t\t},\n\t\tcheckImgLoad() {\n\t\t\tif (!this.checkImageFile()) return\n\t\t\tthis.imageLoading = true\n\t\t\tconst image = new Image()\n\t\t\timage.src = this.message.file.url\n\t\t\timage.addEventListener('load', () => (this.imageLoading = false))\n\t\t},\n\t\topenOptions() {\n\t\t\tif (this.optionsClosing) return\n\n\t\t\tthis.optionsOpened = !this.optionsOpened\n\t\t\tif (!this.optionsOpened) return\n\n\t\t\tthis.$emit('hideOptions', false)\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (\n\t\t\t\t\t!this.roomFooterRef ||\n\t\t\t\t\t!this.$refs.menuOptions ||\n\t\t\t\t\t!this.$refs.actionIcon\n\t\t\t\t)\n\t\t\t\t\treturn\n\n\t\t\t\tconst menuOptionsTop = this.$refs.menuOptions.getBoundingClientRect()\n\t\t\t\t\t.height\n\n\t\t\t\tconst actionIconTop = this.$refs.actionIcon.getBoundingClientRect().top\n\t\t\t\tconst roomFooterTop = this.roomFooterRef.getBoundingClientRect().top\n\n\t\t\t\tconst optionsTopPosition =\n\t\t\t\t\troomFooterTop - actionIconTop > menuOptionsTop + 50\n\n\t\t\t\tif (optionsTopPosition) this.menuOptionsTop = 30\n\t\t\t\telse this.menuOptionsTop = -menuOptionsTop\n\t\t\t}, 0)\n\t\t},\n\t\tcloseOptions() {\n\t\t\tthis.optionsOpened = false\n\t\t\tthis.optionsClosing = true\n\t\t\tsetTimeout(() => (this.optionsClosing = false), 100)\n\n\t\t\tif (this.hoverMessageId !== this.message._id) this.messageHover = false\n\t\t},\n\t\topenEmoji() {\n\t\t\tthis.emojiOpened = !this.emojiOpened\n\t\t\tthis.$emit('hideOptions', false)\n\t\t},\n\t\tcloseEmoji() {\n\t\t\tthis.emojiOpened = false\n\t\t\tif (this.hoverMessageId !== this.message._id) this.messageHover = false\n\t\t},\n\t\tgetEmojiByName(emojiName) {\n\t\t\treturn this.emojisList[emojiName]\n\t\t},\n\t\tsendMessageReaction(emoji, reaction) {\n\t\t\tthis.$emit('sendMessageReaction', {\n\t\t\t\tmessageId: this.message._id,\n\t\t\t\treaction: emoji,\n\t\t\t\tremove: reaction && reaction.indexOf(this.currentUserId) !== -1\n\t\t\t})\n\t\t\tthis.closeEmoji()\n\t\t\tthis.messageHover = false\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.card-date {\n\tborder-radius: 4px;\n\tmax-width: 150px;\n\ttext-align: center;\n\tmargin: 10px auto;\n\tfont-size: 12px;\n\ttext-transform: uppercase;\n\tpadding: 4px;\n\tcolor: var(--chat-message-color-date);\n\tbackground: var(--chat-message-bg-color-date);\n\tdisplay: block;\n\toverflow-wrap: break-word;\n\tposition: relative;\n\twhite-space: normal;\n\tbox-shadow: 0 1px 1px -1px rgba(0, 0, 0, 0.1),\n\t\t0 1px 1px -1px rgba(0, 0, 0, 0.11), 0 1px 2px -1px rgba(0, 0, 0, 0.11);\n}\n\n.line-new {\n\tcolor: var(--chat-message-color-new-messages);\n\tposition: relative;\n\ttext-align: center;\n\tfont-size: 13px;\n\tpadding: 10px 0;\n}\n\n.line-new:after,\n.line-new:before {\n\tborder-top: 1px solid var(--chat-message-color-new-messages);\n\tcontent: '';\n\tleft: 0;\n\tposition: absolute;\n\ttop: 50%;\n\twidth: calc(50% - 60px);\n}\n\n.line-new:before {\n\tleft: auto;\n\tright: 0;\n}\n\n.message-box {\n\tdisplay: flex;\n\tflex: 0 0 50%;\n\tmax-width: 50%;\n\tjustify-content: flex-start;\n\tline-height: 1.4;\n}\n\n.message-container {\n\tposition: relative;\n\tpadding: 2px 10px;\n\talign-items: end;\n\tmin-width: 100px;\n\tbox-sizing: content-box;\n}\n\n.message-container-offset {\n\tmargin-top: 10px;\n}\n\n.offset-current {\n\tmargin-left: 50%;\n\tjustify-content: flex-end;\n}\n\n.message-card {\n\tbackground: var(--chat-message-bg-color);\n\tcolor: var(--chat-message-color);\n\tborder-radius: 8px;\n\tfont-size: 14px;\n\tpadding: 6px 9px 3px;\n\twhite-space: pre-wrap;\n\tmax-width: 100%;\n\t-webkit-transition-property: box-shadow, opacity;\n\ttransition-property: box-shadow, opacity;\n\ttransition: box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);\n\twill-change: box-shadow;\n\tbox-shadow: 0 1px 1px -1px rgba(0, 0, 0, 0.1),\n\t\t0 1px 1px -1px rgba(0, 0, 0, 0.11), 0 1px 2px -1px rgba(0, 0, 0, 0.11);\n}\n\n.message-highlight {\n\tbox-shadow: 0 1px 2px -1px rgba(0, 0, 0, 0.1),\n\t\t0 1px 2px -1px rgba(0, 0, 0, 0.11), 0 1px 5px -1px rgba(0, 0, 0, 0.11);\n}\n\n.message-current {\n\tbackground: var(--chat-message-bg-color-me) !important;\n}\n\n.message-deleted {\n\tcolor: var(--chat-message-color-deleted) !important;\n\tfont-size: 13px !important;\n\tfont-style: italic !important;\n\tbackground: var(--chat-message-bg-color-deleted) !important;\n}\n\n.icon-deleted {\n\theight: 14px;\n\twidth: 14px;\n\tvertical-align: middle;\n\tmargin: -2px 2px 0 0;\n\tfill: var(--chat-message-color-deleted);\n}\n\n.image-container {\n\twidth: 250px;\n\tmax-width: 100%;\n}\n\n.image-reply-container {\n\twidth: 70px;\n}\n\n.message-image {\n\tposition: relative;\n\tbackground-color: var(--chat-message-bg-color-image) !important;\n\tbackground-size: cover !important;\n\tbackground-position: center center !important;\n\tbackground-repeat: no-repeat !important;\n\theight: 250px;\n\twidth: 250px;\n\tmax-width: 100%;\n\tborder-radius: 4px;\n\tmargin: 4px auto 5px;\n\ttransition: 0.4s filter linear;\n}\n\n.message-image-reply {\n\theight: 70px;\n\twidth: 70px;\n\tmargin: 4px auto 3px;\n}\n\n.image-loading {\n\tfilter: blur(3px);\n}\n\n.reply-message {\n\tbackground: var(--chat-message-bg-color-reply);\n\tborder-radius: 4px;\n\tmargin: -1px -5px 8px;\n\tpadding: 8px 10px;\n\n\t.reply-username {\n\t\tcolor: var(--chat-message-color-reply-username);\n\t\tfont-size: 12px;\n\t\tline-height: 15px;\n\t\tmargin-bottom: 2px;\n\t}\n\n\t.reply-content {\n\t\tfont-size: 12px;\n\t\tcolor: var(--chat-message-color-reply-content);\n\t}\n}\n\n.text-username {\n\tfont-size: 13px;\n\tcolor: var(--chat-message-color-username);\n\tmargin-bottom: 2px;\n}\n\n.username-reply {\n\tmargin-bottom: 5px;\n}\n\n.text-timestamp {\n\tfont-size: 10px;\n\tcolor: var(--chat-message-color-timestamp);\n\ttext-align: right;\n}\n\n.file-message {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tmargin-top: 3px;\n\n\tspan {\n\t\tmax-width: 100%;\n\t}\n\n\t.icon-file svg {\n\t\tmargin-right: 5px;\n\t}\n}\n\n.icon-edited {\n\t-webkit-box-align: center;\n\talign-items: center;\n\tdisplay: -webkit-inline-box;\n\tdisplay: inline-flex;\n\tjustify-content: center;\n\tletter-spacing: normal;\n\tline-height: 1;\n\ttext-indent: 0;\n\tvertical-align: middle;\n\tmargin: 0 4px 2px;\n\n\tsvg {\n\t\theight: 12px;\n\t\twidth: 12px;\n\t}\n}\n\n.options-container {\n\tposition: absolute;\n\ttop: 2px;\n\tright: 10px;\n\theight: 40px;\n\twidth: 70px;\n\toverflow: hidden;\n\tz-index: 1;\n\tborder-top-right-radius: 8px;\n}\n\n.blur-container {\n\tposition: absolute;\n\theight: 100%;\n\twidth: 100%;\n\tleft: 8px;\n\tbottom: 10px;\n\tbackground: var(--chat-message-bg-color);\n\tfilter: blur(3px);\n\tborder-bottom-left-radius: 8px;\n}\n\n.options-me {\n\tbackground: var(--chat-message-bg-color-me);\n}\n\n.options-image .blur-container {\n\tbackground: rgba(255, 255, 255, 0.6);\n\tborder-bottom-left-radius: 15px;\n}\n\n.image-buttons {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tborder-radius: 4px;\n\tbackground: linear-gradient(\n\t\tto bottom,\n\t\trgba(0, 0, 0, 0) 55%,\n\t\trgba(0, 0, 0, 0.02) 60%,\n\t\trgba(0, 0, 0, 0.05) 65%,\n\t\trgba(0, 0, 0, 0.1) 70%,\n\t\trgba(0, 0, 0, 0.2) 75%,\n\t\trgba(0, 0, 0, 0.3) 80%,\n\t\trgba(0, 0, 0, 0.5) 85%,\n\t\trgba(0, 0, 0, 0.6) 90%,\n\t\trgba(0, 0, 0, 0.7) 95%,\n\t\trgba(0, 0, 0, 0.8) 100%\n\t);\n\n\tsvg {\n\t\theight: 26px;\n\t\twidth: 26px;\n\t}\n\n\t.button-view,\n\t.button-download {\n\t\tposition: absolute;\n\t\tbottom: 6px;\n\t\tleft: 7px;\n\t}\n\n\t:first-child {\n\t\tleft: 40px;\n\t}\n\n\t.button-view {\n\t\tmax-width: 18px;\n\t\tbottom: 8px;\n\t}\n}\n\n.message-options {\n\tbackground: var(--chat-icon-bg-dropdown-message);\n\tborder-radius: 50%;\n\tposition: absolute;\n\ttop: 7px;\n\tright: 7px;\n\n\tsvg {\n\t\theight: 17px;\n\t\twidth: 17px;\n\t\tpadding: 5px;\n\t\tmargin: -5px;\n\t}\n}\n\n.message-reactions {\n\tposition: absolute;\n\ttop: 6px;\n\tright: 30px;\n}\n\n.menu-options {\n\tright: 15px;\n}\n\n.menu-left {\n\tright: -118px;\n}\n\n.icon-check {\n\theight: 14px;\n\twidth: 14px;\n\tvertical-align: middle;\n\tmargin: -3px -3px 0 3px;\n}\n\n.button-reaction {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tborder: var(--chat-message-border-style-reaction);\n\toutline: none;\n\tbackground: var(--chat-message-bg-color-reaction);\n\tborder-radius: 4px;\n\tmargin: 4px 2px 0;\n\ttransition: 0.3s;\n\tpadding: 0 5px;\n\tfont-size: 18px;\n\tline-height: 23px;\n\n\tspan {\n\t\tfont-size: 11px;\n\t\tfont-weight: 500;\n\t\tmin-width: 7px;\n\t\tcolor: var(--chat-message-color-reaction-counter);\n\t}\n\n\t&:hover {\n\t\tborder: var(--chat-message-border-style-reaction-hover);\n\t\tbackground: var(--chat-message-bg-color-reaction-hover);\n\t\tcursor: pointer;\n\t}\n}\n\n.reaction-me {\n\tborder: var(--chat-message-border-style-reaction-me);\n\tbackground: var(--chat-message-bg-color-reaction-me);\n\n\tspan {\n\t\tcolor: var(--chat-message-color-reaction-counter-me);\n\t}\n\n\t&:hover {\n\t\tborder: var(--chat-message-border-style-reaction-hover-me);\n\t\tbackground: var(--chat-message-bg-color-reaction-hover-me);\n\t}\n}\n\n@media only screen and (max-width: 768px) {\n\t.message-container {\n\t\tpadding: 2px 3px 1px;\n\t}\n\n\t.message-container-offset {\n\t\tmargin-top: 10px;\n\t}\n\n\t.message-box {\n\t\tflex: 0 0 80%;\n\t\tmax-width: 80%;\n\t}\n\t.offset-current {\n\t\tmargin-left: 20%;\n\t}\n\n\t.options-container {\n\t\tright: 3px;\n\t}\n\n\t.menu-left {\n\t\tright: -50px;\n\t}\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Message.vue?vue&type=template&id=e8c9dade&scoped=true&\"\nimport script from \"./Message.vue?vue&type=script&lang=js&\"\nexport * from \"./Message.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Message.vue?vue&type=style&index=0&id=e8c9dade&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e8c9dade\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"col-messages\" v-show=\"(isMobile && !showRoomsList) || !isMobile\">\n\t\t<div class=\"room-header app-border-b\">\n\t\t\t<div class=\"room-wrapper\">\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"!singleRoom\"\n\t\t\t\t\tclass=\"svg-button toggle-button\"\n\t\t\t\t\t:class=\"{ 'rotate-icon': !showRoomsList && !isMobile }\"\n\t\t\t\t\t@click=\"$emit('toggleRoomsList')\"\n\t\t\t\t>\n\t\t\t\t\t<svg-icon name=\"toggle\" />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"info-wrapper\"\n\t\t\t\t\t:class=\"{ 'item-clickable': roomInfo }\"\n\t\t\t\t\t@click=\"$emit('roomInfo', room)\"\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"room.avatar\"\n\t\t\t\t\t\tclass=\"room-avatar\"\n\t\t\t\t\t\t:style=\"{ 'background-image': `url('${room.avatar}')` }\"\n\t\t\t\t\t></div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"room-name\">{{ room.roomName }}</div>\n\t\t\t\t\t\t<div v-if=\"typingUsers\" class=\"room-info\">\n\t\t\t\t\t\t\t{{ typingUsers }} {{ textMessages.IS_TYPING }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-else class=\"room-info\">\n\t\t\t\t\t\t\t{{ userStatus }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"svg-button room-options\"\n\t\t\t\t\tv-if=\"menuActions.length\"\n\t\t\t\t\t@click=\"menuOpened = !menuOpened\"\n\t\t\t\t>\n\t\t\t\t\t<svg-icon name=\"menu\" />\n\t\t\t\t</div>\n\t\t\t\t<transition name=\"slide-left\" v-if=\"menuActions.length\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"menuOpened\"\n\t\t\t\t\t\tv-click-outside=\"closeMenu\"\n\t\t\t\t\t\tclass=\"menu-options\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"menu-list\">\n\t\t\t\t\t\t\t<div v-for=\"action in menuActions\" :key=\"action.name\">\n\t\t\t\t\t\t\t\t<div class=\"menu-item\" @click=\"menuActionHandler(action)\">\n\t\t\t\t\t\t\t\t\t{{ action.title }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</transition>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ref=\"scrollContainer\" class=\"container-scroll\">\n\t\t\t<loader :show=\"loadingMessages\"></loader>\n\t\t\t<div class=\"messages-container\">\n\t\t\t\t<div :class=\"{ 'messages-hidden': loadingMessages }\">\n\t\t\t\t\t<transition name=\"fade-message\">\n\t\t\t\t\t\t<div class=\"text-started\" v-if=\"showNoMessages\">\n\t\t\t\t\t\t\t{{ textMessages.MESSAGES_EMPTY }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"text-started\" v-if=\"showMessagesStarted\">\n\t\t\t\t\t\t\t{{ textMessages.CONVERSATION_STARTED }} {{ messages[0].date }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\t\t\t\t\t<transition name=\"fade-message\">\n\t\t\t\t\t\t<infinite-loading\n\t\t\t\t\t\t\tv-if=\"messages.length\"\n\t\t\t\t\t\t\tspinner=\"spiral\"\n\t\t\t\t\t\t\tdirection=\"top\"\n\t\t\t\t\t\t\t@infinite=\"loadMoreMessages\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div slot=\"spinner\">\n\t\t\t\t\t\t\t\t<loader :show=\"true\" :infinite=\"true\"></loader>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div slot=\"no-results\"></div>\n\t\t\t\t\t\t\t<div slot=\"no-more\"></div>\n\t\t\t\t\t\t</infinite-loading>\n\t\t\t\t\t</transition>\n\t\t\t\t\t<transition-group name=\"fade-message\">\n\t\t\t\t\t\t<div v-for=\"(message, i) in messages\" :key=\"message._id\">\n\t\t\t\t\t\t\t<message\n\t\t\t\t\t\t\t\t:currentUserId=\"currentUserId\"\n\t\t\t\t\t\t\t\t:message=\"message\"\n\t\t\t\t\t\t\t\t:index=\"i\"\n\t\t\t\t\t\t\t\t:messages=\"messages\"\n\t\t\t\t\t\t\t\t:editedMessage=\"editedMessage\"\n\t\t\t\t\t\t\t\t:messageActions=\"messageActions\"\n\t\t\t\t\t\t\t\t:roomUsers=\"room.users\"\n\t\t\t\t\t\t\t\t:textMessages=\"textMessages\"\n\t\t\t\t\t\t\t\t:roomFooterRef=\"$refs.roomFooter\"\n\t\t\t\t\t\t\t\t:newMessages=\"newMessages\"\n\t\t\t\t\t\t\t\t:showReactionEmojis=\"showReactionEmojis\"\n\t\t\t\t\t\t\t\t:textFormatting=\"textFormatting\"\n\t\t\t\t\t\t\t\t:emojisList=\"emojisList\"\n\t\t\t\t\t\t\t\t:hideOptions=\"hideOptions\"\n\t\t\t\t\t\t\t\t@messageActionHandler=\"messageActionHandler\"\n\t\t\t\t\t\t\t\t@openFile=\"openFile\"\n\t\t\t\t\t\t\t\t@addNewMessage=\"addNewMessage\"\n\t\t\t\t\t\t\t\t@sendMessageReaction=\"sendMessageReaction\"\n\t\t\t\t\t\t\t\t@hideOptions=\"hideOptions = $event\"\n\t\t\t\t\t\t\t></message>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition-group>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-if=\"!loadingMessages\">\n\t\t\t<transition name=\"bounce\">\n\t\t\t\t<div class=\"icon-scroll\" v-if=\"scrollIcon\" @click=\"scrollToBottom\">\n\t\t\t\t\t<svg-icon name=\"dropdown\" param=\"scroll\" />\n\t\t\t\t</div>\n\t\t\t</transition>\n\t\t</div>\n\t\t<div ref=\"roomFooter\" class=\"room-footer\" v-if=\"Object.keys(room).length\">\n\t\t\t<transition name=\"slide-up\">\n\t\t\t\t<div v-if=\"messageReply\" class=\"reply-container\">\n\t\t\t\t\t<div class=\"reply-box\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tv-if=\"isImageCheck(messageReply.file)\"\n\t\t\t\t\t\t\t:src=\"messageReply.file.url\"\n\t\t\t\t\t\t\tclass=\"image-reply\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div class=\"reply-info\">\n\t\t\t\t\t\t\t<div class=\"reply-username\">{{ messageReply.username }}</div>\n\t\t\t\t\t\t\t<div class=\"reply-content\">{{ messageReply.content }}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"icon-reply\">\n\t\t\t\t\t\t<div class=\"svg-button\" @click=\"resetMessage\">\n\t\t\t\t\t\t\t<svg-icon name=\"close-outline\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</transition>\n\n\t\t\t<div class=\"box-footer\">\n\t\t\t\t<div class=\"image-container\" v-if=\"imageFile\">\n\t\t\t\t\t<div class=\"svg-button icon-image\" @click=\"resetImageFile\">\n\t\t\t\t\t\t<svg-icon name=\"close\" param=\"image\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"image-file\">\n\t\t\t\t\t\t<img ref=\"imageFile\" :src=\"imageFile\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div\n\t\t\t\t\tv-else-if=\"file\"\n\t\t\t\t\tclass=\"file-container\"\n\t\t\t\t\t:class=\"{ 'file-container-edit': editedMessage._id }\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"icon-file\">\n\t\t\t\t\t\t<svg-icon name=\"file\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"file-message\">{{ message }}</div>\n\t\t\t\t\t<div class=\"svg-button icon-remove\" @click=\"resetMessage(null, true)\">\n\t\t\t\t\t\t<svg-icon name=\"close\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<textarea\n\t\t\t\t\tv-show=\"!file || imageFile\"\n\t\t\t\t\tref=\"roomTextarea\"\n\t\t\t\t\t:placeholder=\"textMessages.TYPE_MESSAGE\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'textarea-outline': editedMessage._id\n\t\t\t\t\t}\"\n\t\t\t\t\t:style=\"{\n\t\t\t\t\t\t'min-height': `${imageDimensions ? imageDimensions.height : 20}px`,\n\t\t\t\t\t\t'padding-left': `${\n\t\t\t\t\t\t\timageDimensions ? imageDimensions.width - 10 : 12\n\t\t\t\t\t\t}px`\n\t\t\t\t\t}\"\n\t\t\t\t\tv-model=\"message\"\n\t\t\t\t\t@input=\"onChangeInput\"\n\t\t\t\t\t@keydown.esc=\"resetMessage\"\n\t\t\t\t\t@keydown.enter.exact.prevent=\"\"\n\t\t\t\t></textarea>\n\n\t\t\t\t<div class=\"icon-textarea\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"svg-button\"\n\t\t\t\t\t\tv-if=\"editedMessage._id\"\n\t\t\t\t\t\t@click=\"resetMessage\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg-icon name=\"close-outline\" />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<emoji-picker\n\t\t\t\t\t\tv-if=\"showEmojis && (!file || imageFile)\"\n\t\t\t\t\t\t:emojiOpened=\"emojiOpened\"\n\t\t\t\t\t\t:positionTop=\"true\"\n\t\t\t\t\t\t@addEmoji=\"addEmoji\"\n\t\t\t\t\t\t@openEmoji=\"emojiOpened = $event\"\n\t\t\t\t\t></emoji-picker>\n\n\t\t\t\t\t<div v-if=\"showFiles\" class=\"svg-button\" @click=\"launchFilePicker\">\n\t\t\t\t\t\t<svg-icon name=\"paperclip\" />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\tv-if=\"showFiles\"\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\tref=\"file\"\n\t\t\t\t\t\t@change=\"onFileChange($event.target.files)\"\n\t\t\t\t\t\tstyle=\"display:none\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\t@click=\"sendMessage\"\n\t\t\t\t\t\tclass=\"svg-button\"\n\t\t\t\t\t\t:class=\"{ 'send-disabled': inputDisabled }\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg-icon name=\"send\" :param=\"inputDisabled ? 'disabled' : ''\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport InfiniteLoading from 'vue-infinite-loading'\nimport vClickOutside from 'v-click-outside'\nimport emojis from 'vue-emoji-picker/src/emojis'\n\nimport Loader from './Loader'\nimport Message from './Message'\nimport SvgIcon from './SvgIcon'\nimport EmojiPicker from './EmojiPicker'\n\nconst { messagesValid } = require('../utils/roomValidation')\nconst { detectMobile } = require('../utils/mobileDetection')\n\nexport default {\n\tname: 'room',\n\tcomponents: {\n\t\tInfiniteLoading,\n\t\tLoader,\n\t\tMessage,\n\t\tSvgIcon,\n\t\tEmojiPicker\n\t},\n\n\tdirectives: {\n\t\tclickOutside: vClickOutside.directive\n\t},\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\ttextMessages: { type: Object, required: true },\n\t\tsingleRoom: { type: Boolean, required: true },\n\t\tshowRoomsList: { type: Boolean, required: true },\n\t\tisMobile: { type: Boolean, required: true },\n\t\trooms: { type: Array, required: true },\n\t\troomId: { type: [String, Number], required: true },\n\t\tmessages: { type: Array, required: true },\n\t\troomMessage: { type: String },\n\t\tmessagesLoaded: { type: Boolean, required: true },\n\t\tmenuActions: { type: Array, required: true },\n\t\tmessageActions: { type: Array, required: true },\n\t\tshowFiles: { type: Boolean, required: true },\n\t\tshowEmojis: { type: Boolean, required: true },\n\t\tshowReactionEmojis: { type: Boolean, required: true },\n\t\ttextFormatting: { type: Boolean, required: true },\n\t\tloadingRooms: { type: Boolean, required: true },\n\t\troomInfo: { type: Function }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tmessage: '',\n\t\t\teditedMessage: {},\n\t\t\tmessageReply: null,\n\t\t\tinfiniteState: null,\n\t\t\tloadingMessages: false,\n\t\t\tloadingMoreMessages: false,\n\t\t\tfile: null,\n\t\t\timageFile: null,\n\t\t\timageDimensions: null,\n\t\t\tmenuOpened: false,\n\t\t\temojiOpened: false,\n\t\t\temojisList: {},\n\t\t\thideOptions: true,\n\t\t\tscrollIcon: false,\n\t\t\tnewMessages: []\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.newMessages = []\n\n\t\twindow.addEventListener('keyup', e => {\n\t\t\tif (e.keyCode === 13 && !e.shiftKey) {\n\t\t\t\tif (detectMobile()) {\n\t\t\t\t\tthis.message = this.message + '\\n'\n\t\t\t\t\tsetTimeout(() => this.onChangeInput(), 0)\n\t\t\t\t} else {\n\t\t\t\t\tthis.sendMessage()\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tthis.$refs.scrollContainer.addEventListener('scroll', e => {\n\t\t\tthis.hideOptions = true\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!e.target) return\n\t\t\t\tthis.scrollIcon =\n\t\t\t\t\te.target.scrollHeight > 500 &&\n\t\t\t\t\te.target.scrollHeight - e.target.scrollTop > 1000\n\t\t\t}, 200)\n\t\t})\n\n\t\tconst emojisTable = Object.keys(emojis).map(key => emojis[key])\n\t\tthis.emojisList = Object.assign({}, ...emojisTable)\n\t},\n\n\twatch: {\n\t\tloadingMessages(val) {\n\t\t\tif (val) this.infiniteState = null\n\t\t\telse this.focusTextarea(true)\n\t\t},\n\t\troom(newVal, oldVal) {\n\t\t\tif (newVal.roomId && newVal.roomId !== oldVal.roomId) {\n\t\t\t\tthis.loadingMessages = true\n\t\t\t\tthis.scrollIcon = false\n\t\t\t\tthis.resetMessage(true)\n\t\t\t\tif (this.roomMessage) {\n\t\t\t\t\tthis.message = this.roomMessage\n\t\t\t\t\tsetTimeout(() => this.onChangeInput(), 0)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmessages(newVal, oldVal) {\n\t\t\tnewVal.forEach(message => {\n\t\t\t\tif (!messagesValid(message)) {\n\t\t\t\t\tthrow 'Messages object is not valid! Must contain _id[String, Number], content[String, Number] and sender_id[String, Number]'\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tconst element = this.$refs.scrollContainer\n\t\t\tif (!element) return\n\n\t\t\tconst options = { top: element.scrollHeight }\n\n\t\t\tif (oldVal && newVal && oldVal.length === newVal.length - 1) {\n\t\t\t\treturn setTimeout(() => {\n\t\t\t\t\toptions.behavior = 'smooth'\n\t\t\t\t\telement.scrollTo(options)\n\t\t\t\t}, 50)\n\t\t\t}\n\n\t\t\tif (this.infiniteState) {\n\t\t\t\tthis.infiniteState.loaded()\n\t\t\t\tsetTimeout(() => (this.loadingMoreMessages = false), 0)\n\t\t\t} else if (newVal.length) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\telement.scrollTo(options)\n\t\t\t\t\tthis.loadingMessages = false\n\t\t\t\t}, 0)\n\t\t\t}\n\t\t},\n\t\tmessagesLoaded(val) {\n\t\t\tif (val) this.loadingMessages = false\n\t\t\tif (this.infiniteState) this.infiniteState.complete()\n\t\t},\n\t\timageFile() {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!this.$refs.imageFile) {\n\t\t\t\t\tthis.imageDimensions = null\n\t\t\t\t\tsetTimeout(() => this.resizeTextarea(), 0)\n\t\t\t\t} else {\n\t\t\t\t\tlet height = this.$refs.imageFile.height\n\t\t\t\t\tif (height < 30) height = 30\n\n\t\t\t\t\tthis.imageDimensions = {\n\t\t\t\t\t\theight: this.$refs.imageFile.height - 10,\n\t\t\t\t\t\twidth: this.$refs.imageFile.width + 26\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 20)\n\t\t}\n\t},\n\n\tcomputed: {\n\t\troom() {\n\t\t\treturn this.rooms.find(room => room.roomId === this.roomId) || {}\n\t\t},\n\t\tshowNoMessages() {\n\t\t\treturn (\n\t\t\t\tthis.room.roomId &&\n\t\t\t\t!this.messages.length &&\n\t\t\t\t!this.loadingMessages &&\n\t\t\t\t!this.loadingRooms\n\t\t\t)\n\t\t},\n\t\tshowMessagesStarted() {\n\t\t\treturn this.messages.length && this.messagesLoaded\n\t\t},\n\t\tinputDisabled() {\n\t\t\treturn this.isMessageEmpty()\n\t\t},\n\t\ttypingUsers() {\n\t\t\tif (!this.room.typingUsers || !this.room.typingUsers.length) return\n\n\t\t\tconst typingUsers = this.room.users.filter(user => {\n\t\t\t\tif (user._id === this.currentUserId) return\n\t\t\t\tif (this.room.typingUsers.indexOf(user._id) === -1) return\n\t\t\t\tif (user.status && user.status.state === 'offline') return\n\t\t\t\treturn true\n\t\t\t})\n\n\t\t\treturn typingUsers.map(user => user.username).join(', ')\n\t\t},\n\t\tuserStatus() {\n\t\t\tif (!this.room.users || this.room.users.length !== 2) return\n\n\t\t\tconst user = this.room.users.find(u => u._id !== this.currentUserId)\n\n\t\t\tif (!user.status) return\n\n\t\t\tlet text = ''\n\n\t\t\tif (user.status.state === 'online') {\n\t\t\t\ttext = this.textMessages.IS_ONLINE\n\t\t\t} else if (user.status.last_changed) {\n\t\t\t\ttext = this.textMessages.LAST_SEEN + user.status.last_changed\n\t\t\t}\n\n\t\t\treturn text\n\t\t}\n\t},\n\n\tmethods: {\n\t\taddNewMessage(message) {\n\t\t\tthis.newMessages.push(message)\n\t\t},\n\t\tresetMessage(disableMobileFocus = null, editFile = null) {\n\t\t\tthis.$emit('typingMessage', null)\n\n\t\t\tif (editFile) {\n\t\t\t\tthis.file = null\n\t\t\t\tthis.message = ''\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.resetTextareaSize()\n\t\t\tthis.message = ''\n\t\t\tthis.editedMessage = {}\n\t\t\tthis.messageReply = null\n\t\t\tthis.file = null\n\t\t\tthis.imageFile = null\n\t\t\tthis.emojiOpened = false\n\t\t\tsetTimeout(() => this.focusTextarea(disableMobileFocus), 0)\n\t\t},\n\t\tresetImageFile() {\n\t\t\tthis.imageFile = null\n\t\t\tthis.editedMessage.file = null\n\t\t\tthis.file = null\n\t\t\tthis.focusTextarea()\n\t\t},\n\t\tresetTextareaSize() {\n\t\t\tif (!this.$refs['roomTextarea']) return\n\t\t\tthis.$refs['roomTextarea'].style.height = '20px'\n\t\t},\n\t\tfocusTextarea(disableMobileFocus) {\n\t\t\tif (detectMobile() && disableMobileFocus) return\n\t\t\tif (!this.$refs['roomTextarea']) return\n\t\t\tthis.$refs['roomTextarea'].focus()\n\t\t},\n\t\tisMessageEmpty() {\n\t\t\treturn !this.file && !this.message.trim()\n\t\t},\n\t\tsendMessage() {\n\t\t\tif (!this.file && !this.message.trim()) return\n\n\t\t\tif (this.editedMessage._id) {\n\t\t\t\tif (this.editedMessage.content !== this.message || this.file) {\n\t\t\t\t\tthis.$emit('editMessage', {\n\t\t\t\t\t\tmessageId: this.editedMessage._id,\n\t\t\t\t\t\tnewContent: this.message.trim(),\n\t\t\t\t\t\tfile: this.file,\n\t\t\t\t\t\treplyMessage: this.messageReply\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.$emit('sendMessage', {\n\t\t\t\t\tcontent: this.message.trim(),\n\t\t\t\t\tfile: this.file,\n\t\t\t\t\treplyMessage: this.messageReply\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.resetMessage(true)\n\t\t},\n\t\tloadMoreMessages(infiniteState) {\n\t\t\tif (this.loadingMoreMessages) return\n\n\t\t\tif (this.messagesLoaded || !this.room.roomId) {\n\t\t\t\treturn infiniteState.complete()\n\t\t\t}\n\n\t\t\tthis.infiniteState = infiniteState\n\t\t\tthis.$emit('fetchMessages')\n\t\t\tthis.loadingMoreMessages = true\n\t\t},\n\t\tmessageActionHandler({ action, message }) {\n\t\t\tswitch (action.name) {\n\t\t\t\tcase 'replyMessage':\n\t\t\t\t\treturn this.replyMessage(message)\n\t\t\t\tcase 'editMessage':\n\t\t\t\t\treturn this.editMessage(message)\n\t\t\t\tcase 'deleteMessage':\n\t\t\t\t\treturn this.$emit('deleteMessage', message._id)\n\t\t\t\tdefault:\n\t\t\t\t\treturn this.$emit('messageActionHandler', { action, message })\n\t\t\t}\n\t\t},\n\t\tsendMessageReaction(messageReaction) {\n\t\t\tthis.$emit('sendMessageReaction', messageReaction)\n\t\t},\n\t\treplyMessage(message) {\n\t\t\tthis.resetMessage()\n\t\t\tthis.messageReply = message\n\t\t},\n\t\teditMessage(message) {\n\t\t\tthis.resetMessage()\n\t\t\tthis.editedMessage = { ...message }\n\t\t\tthis.file = message.file\n\t\t\tif (this.isImageCheck(this.file)) this.imageFile = message.file.url\n\t\t\tthis.message = message.content\n\n\t\t\tsetTimeout(() => this.resizeTextarea(), 0)\n\t\t},\n\t\tscrollToBottom() {\n\t\t\tconst element = this.$refs.scrollContainer\n\t\t\telement.scrollTo({ top: element.scrollHeight, behavior: 'smooth' })\n\t\t},\n\t\tonChangeInput() {\n\t\t\tthis.resizeTextarea()\n\t\t\tthis.$emit('typingMessage', this.message)\n\t\t},\n\t\tresizeTextarea() {\n\t\t\tconst el = this.$refs['roomTextarea']\n\n\t\t\tif (!el) return\n\n\t\t\tconst padding = window\n\t\t\t\t.getComputedStyle(el, null)\n\t\t\t\t.getPropertyValue('padding-top')\n\t\t\t\t.replace('px', '')\n\n\t\t\tel.style.height = 0\n\t\t\tel.style.height = el.scrollHeight - padding * 2 + 'px'\n\t\t},\n\t\taddEmoji(emoji) {\n\t\t\tthis.message += emoji.icon\n\t\t\tthis.focusTextarea(true)\n\t\t},\n\t\tlaunchFilePicker() {\n\t\t\tthis.$refs.file.value = ''\n\t\t\tthis.$refs.file.click()\n\t\t},\n\t\tasync onFileChange(files) {\n\t\t\tthis.resetImageFile()\n\t\t\tconst file = files[0]\n\t\t\tconst fileURL = URL.createObjectURL(file)\n\t\t\tconst blobFile = await fetch(fileURL).then(res => res.blob())\n\n\t\t\tthis.file = {\n\t\t\t\tblob: blobFile,\n\t\t\t\tname: file.name.split('.')[0],\n\t\t\t\tsize: file.size,\n\t\t\t\ttype: file.name.split('.')[1] || file.type,\n\t\t\t\tlocalUrl: fileURL\n\t\t\t}\n\t\t\tif (this.isImageCheck(this.file)) this.imageFile = fileURL\n\t\t\telse this.message = file.name\n\t\t},\n\t\tisImageCheck(file) {\n\t\t\tif (!file) return\n\t\t\tconst imageTypes = ['png', 'jpg', 'jpeg', 'svg']\n\t\t\tconst { type } = file\n\t\t\treturn imageTypes.some(t => type.includes(t))\n\t\t},\n\t\topenFile(message) {\n\t\t\tthis.$emit('openFile', message)\n\t\t},\n\t\tmenuActionHandler(action) {\n\t\t\tthis.closeMenu()\n\t\t\tthis.$emit('menuActionHandler', action)\n\t\t},\n\t\tcloseMenu() {\n\t\t\tthis.menuOpened = false\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.col-messages {\n\tposition: relative;\n\theight: 100%;\n\tflex: 1;\n\toverflow: hidden;\n\tdisplay: flex;\n\tflex-flow: column;\n}\n\n.room-header {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\theight: 64px;\n\twidth: 100%;\n\tz-index: 10;\n\tmargin-right: 1px;\n\tbackground: var(--chat-header-bg-color);\n\tborder-top-right-radius: var(--chat-container-border-radius);\n}\n\n.room-wrapper {\n\tdisplay: flex;\n\talign-items: center;\n\theight: 100%;\n\twidth: 100%;\n\tpadding: 0 16px;\n}\n\n.info-wrapper {\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.toggle-button {\n\tmargin-right: 15px;\n\n\tsvg {\n\t\theight: 26px;\n\t\twidth: 26px;\n\t}\n}\n\n.rotate-icon {\n\ttransform: rotate(180deg) !important;\n}\n\n.room-name {\n\tfont-size: 17px;\n\tfont-weight: 500;\n\tline-height: 22px;\n\tcolor: var(--chat-header-color-name);\n}\n\n.room-info {\n\tfont-size: 13px;\n\tline-height: 18px;\n\tcolor: var(--chat-header-color-info);\n}\n\n.room-options {\n\tmargin-left: auto;\n}\n\n.container-scroll {\n\tbackground: var(--chat-content-bg-color);\n\tflex: 1;\n\toverflow-y: scroll;\n\tmargin-right: 1px;\n\tmargin-top: 60px;\n\t-webkit-overflow-scrolling: touch;\n}\n\n.messages-container {\n\tpadding: 0 5px 5px;\n}\n\n.text-started {\n\tfont-size: 14px;\n\tcolor: var(--chat-message-color-started);\n\tfont-style: italic;\n\ttext-align: center;\n\tmargin-top: 30px;\n\tmargin-bottom: 20px;\n}\n\n.icon-scroll {\n\tposition: absolute;\n\tbottom: 80px;\n\tright: 20px;\n\tpadding: 8px;\n\tbackground: var(--chat-bg-scroll-icon);\n\tborder-radius: 50%;\n\tbox-shadow: 0 1px 1px -1px rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(0, 0, 0, 0.14),\n\t\t0 1px 2px 0 rgba(0, 0, 0, 0.12);\n\tdisplay: flex;\n\tcursor: pointer;\n\tz-index: 10;\n\n\tsvg {\n\t\theight: 25px;\n\t\twidth: 25px;\n\t}\n}\n\n.room-footer {\n\twidth: calc(100% - 1px);\n\tborder-bottom-right-radius: 4px;\n\tz-index: 10;\n}\n\n.box-footer {\n\tdisplay: flex;\n\tposition: relative;\n\tbackground: var(--chat-footer-bg-color);\n\tpadding: 10px 8px 10px;\n}\n\n.reply-container {\n\tdisplay: flex;\n\tpadding: 10px 10px 0 10px;\n\tbackground: var(--chat-content-bg-color);\n\talign-items: center;\n\tmax-width: 100%;\n\n\t.reply-box {\n\t\twidth: 100%;\n\t\toverflow: hidden;\n\t\tbackground: var(--chat-footer-bg-color-reply);\n\t\tborder-radius: 4px;\n\t\tpadding: 8px 10px;\n\t\tdisplay: flex;\n\t}\n\n\t.reply-info {\n\t\toverflow: hidden;\n\t}\n\n\t.reply-username {\n\t\tcolor: var(--chat-message-color-reply-username);\n\t\tfont-size: 12px;\n\t\tline-height: 15px;\n\t\tmargin-bottom: 2px;\n\t}\n\n\t.reply-content {\n\t\tfont-size: 12px;\n\t\tcolor: var(--chat-message-color-reply-content);\n\t}\n\n\t.icon-reply {\n\t\tmargin-left: 10px;\n\n\t\tsvg {\n\t\t\theight: 20px;\n\t\t\twidth: 20px;\n\t\t}\n\t}\n\n\t.image-reply {\n\t\tmax-height: 100px;\n\t\tmargin-right: 10px;\n\t}\n}\n\ntextarea {\n\theight: 20px;\n\twidth: 100%;\n\tline-height: 20px;\n\toverflow: hidden;\n\toutline: 0;\n\tresize: none;\n\tborder-radius: 20px;\n\tpadding: 12px 16px;\n\tbox-sizing: content-box;\n\tfont-size: 16px;\n\tbackground: var(--chat-bg-color-input);\n\tcolor: var(--chat-color);\n\tcaret-color: var(--chat-color-caret);\n\tborder: var(--chat-border-style-input);\n\n\t&::placeholder {\n\t\tcolor: var(--chat-color-placeholder);\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n.textarea-outline {\n\tborder: 1px solid var(--chat-border-color-input-selected);\n\tbox-shadow: inset 0px 0px 0px 1px var(--chat-border-color-input-selected);\n}\n\n.icon-textarea {\n\tdisplay: flex;\n\tmargin: 12px 0 0 5px;\n\n\tsvg,\n\t.wrapper {\n\t\tmargin: 0 7px;\n\t}\n}\n\n.image-container {\n\tposition: absolute;\n\tmax-width: 25%;\n\tleft: 16px;\n\ttop: 18px;\n}\n\n.image-file {\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-direction: column;\n\tmin-height: 30px;\n\n\timg {\n\t\tborder-radius: 15px;\n\t\twidth: 100%;\n\t\tmax-width: 150px;\n\t\tmax-height: 100%;\n\t}\n}\n\n.icon-image {\n\tposition: absolute;\n\ttop: 6px;\n\tleft: 6px;\n\tz-index: 10;\n\n\tsvg {\n\t\theight: 20px;\n\t\twidth: 20px;\n\t\tborder-radius: 50%;\n\t}\n\n\t&:before {\n\t\tcontent: ' ';\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground: rgba(0, 0, 0, 0.5);\n\t\tborder-radius: 50%;\n\t\tz-index: -1;\n\t}\n}\n\n.file-container {\n\tdisplay: flex;\n\talign-items: center;\n\twidth: calc(100% - 75px);\n\theight: 20px;\n\tpadding: 12px 0;\n\tbox-sizing: content-box;\n\tbackground: var(--chat-bg-color-input);\n\tborder: var(--chat-border-style-input);\n\tborder-radius: 20px;\n}\n\n.file-container-edit {\n\twidth: calc(100% - 109px);\n}\n\n.file-message {\n\tmax-width: calc(100% - 75px);\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.icon-file {\n\tdisplay: flex;\n\tmargin: 0 8px 0 15px;\n}\n\n.icon-remove {\n\tmargin-left: 8px;\n\n\tsvg {\n\t\theight: 18px;\n\t\twidth: 18px;\n\t}\n}\n\n.send-disabled,\n.send-disabled svg {\n\tcursor: none !important;\n\tpointer-events: none !important;\n\ttransform: none !important;\n}\n\n.messages-hidden {\n\topacity: 0;\n}\n\n@media only screen and (max-width: 768px) {\n\t.room-header {\n\t\theight: 50px;\n\n\t\t.room-wrapper {\n\t\t\tpadding: 0 10px;\n\t\t}\n\n\t\t.room-name {\n\t\t\tfont-size: 16px;\n\t\t\tline-height: 22px;\n\t\t}\n\n\t\t.room-info {\n\t\t\tfont-size: 12px;\n\t\t\tline-height: 16px;\n\t\t}\n\n\t\t.room-avatar {\n\t\t\theight: 37px;\n\t\t\twidth: 37px;\n\t\t}\n\t}\n\n\t.container-scroll {\n\t\tmargin-top: 50px;\n\t}\n\n\t.box-footer {\n\t\tborder-top: var(--chat-border-style-input);\n\t\tpadding: 7px 2px 7px 7px;\n\t}\n\n\t.text-started {\n\t\tmargin-top: 20px;\n\t}\n\n\ttextarea {\n\t\tpadding: 7px;\n\t\tline-height: 18px;\n\n\t\t&::placeholder {\n\t\t\tcolor: transparent;\n\t\t}\n\t}\n\n\t.icon-textarea {\n\t\tmargin: 6px 0 0 5px;\n\n\t\tsvg,\n\t\t.wrapper {\n\t\t\tmargin: 0 5px;\n\t\t}\n\t}\n\n\t.image-container {\n\t\ttop: 10px;\n\t\tleft: 10px;\n\t}\n\n\t.image-file img {\n\t\ttransform: scale(0.97);\n\t}\n\n\t.room-footer {\n\t\twidth: 100%;\n\t}\n\n\t.file-container {\n\t\tpadding: 7px 0;\n\n\t\t.icon-file {\n\t\t\tmargin-left: 10px;\n\t\t}\n\t}\n\n\t.reply-container {\n\t\tpadding: 5px 8px;\n\t}\n\n\t.icon-scroll {\n\t\tbottom: 70px;\n\t}\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Room.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Room.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Room.vue?vue&type=template&id=2d42a88c&scoped=true&\"\nimport script from \"./Room.vue?vue&type=script&lang=js&\"\nexport * from \"./Room.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Room.vue?vue&type=style&index=0&id=2d42a88c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d42a88c\",\n  null\n  \n)\n\nexport default component.exports","export default {\n\tROOMS_EMPTY: 'No rooms',\n\tNEW_MESSAGES: 'New Messages',\n\tMESSAGE_DELETED: 'This message was deleted',\n\tMESSAGES_EMPTY: 'No messages',\n\tCONVERSATION_STARTED: 'Conversation started on:',\n\tTYPE_MESSAGE: 'Type message',\n\tSEARCH: 'Search',\n\tIS_ONLINE: 'is online',\n\tLAST_SEEN: 'last seen ',\n\tIS_TYPING: 'is writing...'\n}\n","export const defaultThemeStyles = {\n\tlight: {\n\t\tgeneral: {\n\t\t\tcolor: '#0a0a0a',\n\t\t\tbackgroundInput: '#fff',\n\t\t\tcolorPlaceholder: '#9ca6af',\n\t\t\tcolorCaret: '#1976d2',\n\t\t\tcolorSpinner: '#333',\n\t\t\tborderStyle: '1px solid #e1e4e8',\n\t\t\tbackgroundScrollIcon: '#fff'\n\t\t},\n\n\t\tcontainer: {\n\t\t\tborder: 'none',\n\t\t\tborderRadius: '4px',\n\t\t\tboxShadow:\n\t\t\t\t'0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)'\n\t\t},\n\n\t\theader: {\n\t\t\tbackground: '#fff',\n\t\t\tcolorRoomName: '#0a0a0a',\n\t\t\tcolorRoomInfo: '#9ca6af'\n\t\t},\n\n\t\tfooter: {\n\t\t\tbackground: '#f8f9fa',\n\t\t\tborderStyleInput: '1px solid #e1e4e8',\n\t\t\tborderInputSelected: '#1976d2',\n\t\t\tbackgroundReply: 'rgba(0, 0, 0, 0.08)'\n\t\t},\n\n\t\tcontent: {\n\t\t\tbackground: '#f8f9fa'\n\t\t},\n\n\t\tsidemenu: {\n\t\t\tbackground: '#fff',\n\t\t\tbackgroundHover: '#f6f6f6',\n\t\t\tbackgroundActive: '#e5effa',\n\t\t\tcolorActive: '#1976d2',\n\t\t\tborderColorSearch: '#e1e5e8'\n\t\t},\n\n\t\tdropdown: {\n\t\t\tbackground: '#fff',\n\t\t\tbackgroundHover: '#f6f6f6'\n\t\t},\n\n\t\tmessage: {\n\t\t\tbackground: '#fff',\n\t\t\tbackgroundMe: '#ccf2cf',\n\t\t\tcolor: '#0a0a0a',\n\t\t\tcolorStarted: '#9ca6af',\n\t\t\tbackgroundDeleted: '#dadfe2',\n\t\t\tcolorDeleted: '#757e85',\n\t\t\tcolorUsername: '#9ca6af',\n\t\t\tcolorTimestamp: '#828c94',\n\t\t\tbackgroundDate: '#e5effa',\n\t\t\tcolorDate: '#505a62',\n\t\t\tbackgroundReply: 'rgba(0, 0, 0, 0.08)',\n\t\t\tcolorReplyUsername: '#0a0a0a',\n\t\t\tcolorReply: '#6e6e6e',\n\t\t\tbackgroundImage: '#ddd',\n\t\t\tcolorNewMessages: '#1976d2',\n\t\t\tbackgroundReaction: '#eee',\n\t\t\tborderStyleReaction: '1px solid #eee',\n\t\t\tbackgroundReactionHover: '#fff',\n\t\t\tborderStyleReactionHover: '1px solid #ddd',\n\t\t\tcolorReactionCounter: '#0a0a0a',\n\t\t\tbackgroundReactionMe: '#cfecf5',\n\t\t\tborderStyleReactionMe: '1px solid #3b98b8',\n\t\t\tbackgroundReactionHoverMe: '#cfecf5',\n\t\t\tborderStyleReactionHoverMe: '1px solid #3b98b8',\n\t\t\tcolorReactionCounterMe: '#0b59b3'\n\t\t},\n\n\t\tmarkdown: {\n\t\t\tbackground: 'rgba(239, 239, 239, 0.7)',\n\t\t\tborder: 'rgba(212, 212, 212, 0.9)',\n\t\t\tcolor: '#e01e5a',\n\t\t\tcolorMulti: '#0a0a0a'\n\t\t},\n\n\t\troom: {\n\t\t\tcolorUsername: '#0a0a0a',\n\t\t\tcolorMessage: '#67717a',\n\t\t\tcolorTimestamp: '#a2aeb8',\n\t\t\tcolorStateOnline: '#4caf50',\n\t\t\tcolorStateOffline: '#9ca6af'\n\t\t},\n\n\t\temoji: {\n\t\t\tbackground: '#fff'\n\t\t},\n\n\t\ticons: {\n\t\t\tsearch: '#9ca6af',\n\t\t\tadd: '#1976d2',\n\t\t\ttoggle: '#0a0a0a',\n\t\t\tmenu: '#0a0a0a',\n\t\t\tclose: '#9ca6af',\n\t\t\tcloseImage: '#fff',\n\t\t\tfile: '#1976d2',\n\t\t\tpaperclip: '#1976d2',\n\t\t\tcloseOutline: '#000',\n\t\t\tsend: '#1976d2',\n\t\t\tsendDisabled: '#9ca6af',\n\t\t\temoji: '#1976d2',\n\t\t\temojiReaction: 'rgba(0, 0, 0, 0.3)',\n\t\t\tdocument: '#1976d2',\n\t\t\tpencil: '#9e9e9e',\n\t\t\tcheckmark: '#0696c7',\n\t\t\teye: '#fff',\n\t\t\tdropdownMessage: '#fff',\n\t\t\tdropdownMessageBackground: 'rgba(0, 0, 0, 0.25)',\n\t\t\tdropdownScroll: '#0a0a0a'\n\t\t}\n\t},\n\tdark: {\n\t\tgeneral: {\n\t\t\tcolor: '#fff',\n\t\t\tbackgroundInput: '#202223',\n\t\t\tcolorPlaceholder: '#596269',\n\t\t\tcolorCaret: '#1976d2',\n\t\t\tcolorSpinner: '#fff',\n\t\t\tborderStyle: 'none',\n\t\t\tbackgroundScrollIcon: '#fff'\n\t\t},\n\n\t\tcontainer: {\n\t\t\tborder: 'none',\n\t\t\tborderRadius: '4px',\n\t\t\tboxShadow:\n\t\t\t\t'0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)'\n\t\t},\n\n\t\theader: {\n\t\t\tbackground: '#181a1b',\n\t\t\tcolorRoomName: '#fff',\n\t\t\tcolorRoomInfo: '#9ca6af'\n\t\t},\n\n\t\tfooter: {\n\t\t\tbackground: '#131415',\n\t\t\tborderStyleInput: 'none',\n\t\t\tborderInputSelected: '#1976d2',\n\t\t\tbackgroundReply: '#1b1c1c'\n\t\t},\n\n\t\tcontent: {\n\t\t\tbackground: '#131415'\n\t\t},\n\n\t\tsidemenu: {\n\t\t\tbackground: '#181a1b',\n\t\t\tbackgroundHover: '#202224',\n\t\t\tbackgroundActive: '#151617',\n\t\t\tcolorActive: '#fff',\n\t\t\tborderColorSearch: '#181a1b'\n\t\t},\n\n\t\tdropdown: {\n\t\t\tbackground: '#2a2c33',\n\t\t\tbackgroundHover: '#26282e'\n\t\t},\n\n\t\tmessage: {\n\t\t\tbackground: '#22242a',\n\t\t\tbackgroundMe: '#4fb381',\n\t\t\tcolor: '#fff',\n\t\t\tcolorStarted: '#9ca6af',\n\t\t\tbackgroundDeleted: '#1b1c21',\n\t\t\tcolorDeleted: '#a2a5a8',\n\t\t\tcolorUsername: '#b3bac9',\n\t\t\tcolorTimestamp: '#ebedf2',\n\t\t\tbackgroundDate: 'rgba(0, 0, 0, 0.1)',\n\t\t\tcolorDate: '#9ca6af',\n\t\t\tbackgroundReply: 'rgba(0, 0, 0, 0.18)',\n\t\t\tcolorReplyUsername: '#fff',\n\t\t\tcolorReply: '#d6d6d6',\n\t\t\tbackgroundImage: '#ddd',\n\t\t\tcolorNewMessages: '#fff',\n\t\t\tbackgroundReaction: 'none',\n\t\t\tborderStyleReaction: 'none',\n\t\t\tbackgroundReactionHover: '#202223',\n\t\t\tborderStyleReactionHover: 'none',\n\t\t\tcolorReactionCounter: '#fff',\n\t\t\tbackgroundReactionMe: '#4e9ad1',\n\t\t\tborderStyleReactionMe: 'none',\n\t\t\tbackgroundReactionHoverMe: '#4e9ad1',\n\t\t\tborderStyleReactionHoverMe: 'none',\n\t\t\tcolorReactionCounterMe: '#fff'\n\t\t},\n\n\t\tmarkdown: {\n\t\t\tbackground: 'rgba(239, 239, 239, 0.7)',\n\t\t\tborder: 'rgba(212, 212, 212, 0.9)',\n\t\t\tcolor: '#e01e5a',\n\t\t\tcolorMulti: '#0a0a0a'\n\t\t},\n\n\t\troom: {\n\t\t\tcolorUsername: '#fff',\n\t\t\tcolorMessage: '#6c7278',\n\t\t\tcolorTimestamp: '#6c7278',\n\t\t\tcolorStateOnline: '#4caf50',\n\t\t\tcolorStateOffline: '#596269'\n\t\t},\n\n\t\temoji: {\n\t\t\tbackground: '#343740'\n\t\t},\n\n\t\ticons: {\n\t\t\tsearch: '#596269',\n\t\t\tadd: '#fff',\n\t\t\ttoggle: '#fff',\n\t\t\tmenu: '#fff',\n\t\t\tclose: '#9ca6af',\n\t\t\tcloseImage: '#fff',\n\t\t\tfile: '#1976d2',\n\t\t\tpaperclip: '#fff',\n\t\t\tcloseOutline: '#fff',\n\t\t\tsend: '#fff',\n\t\t\tsendDisabled: '#646a70',\n\t\t\temoji: '#fff',\n\t\t\temojiReaction: '#fff',\n\t\t\tdocument: '#1976d2',\n\t\t\tpencil: '#ebedf2',\n\t\t\tcheckmark: '#f0d90a',\n\t\t\teye: '#fff',\n\t\t\tdropdownMessage: '#fff',\n\t\t\tdropdownMessageBackground: 'rgba(0, 0, 0, 0.25)',\n\t\t\tdropdownScroll: '#0a0a0a'\n\t\t}\n\t}\n}\n\nexport const cssThemeVars = ({\n\tgeneral,\n\tcontainer,\n\theader,\n\tfooter,\n\tsidemenu,\n\tcontent,\n\tdropdown,\n\tmessage,\n\tmarkdown,\n\troom,\n\temoji,\n\ticons\n}) => {\n\treturn {\n\t\t// general\n\t\t'--chat-color': general.color,\n\t\t'--chat-bg-color-input': general.backgroundInput,\n\t\t'--chat-color-spinner': general.colorSpinner,\n\t\t'--chat-color-placeholder': general.colorPlaceholder,\n\t\t'--chat-color-caret': general.colorCaret,\n\t\t'--chat-border-style': general.borderStyle,\n\t\t'--chat-bg-scroll-icon': general.backgroundScrollIcon,\n\n\t\t// container\n\t\t'--chat-container-border': container.border,\n\t\t'--chat-container-border-radius': container.borderRadius,\n\t\t'--chat-container-box-shadow': container.boxShadow,\n\n\t\t// header\n\t\t'--chat-header-bg-color': header.background,\n\t\t'--chat-header-color-name': header.colorRoomName,\n\t\t'--chat-header-color-info': header.colorRoomInfo,\n\n\t\t// footer\n\t\t'--chat-footer-bg-color': footer.background,\n\t\t'--chat-border-style-input': footer.borderStyleInput,\n\t\t'--chat-border-color-input-selected': footer.borderInputSelected,\n\t\t'--chat-footer-bg-color-reply': footer.backgroundReply,\n\n\t\t// content\n\t\t'--chat-content-bg-color': content.background,\n\n\t\t// sidemenu\n\t\t'--chat-sidemenu-bg-color': sidemenu.background,\n\t\t'--chat-sidemenu-bg-color-hover': sidemenu.backgroundHover,\n\t\t'--chat-sidemenu-bg-color-active': sidemenu.backgroundActive,\n\t\t'--chat-sidemenu-color-active': sidemenu.colorActive,\n\t\t'--chat-sidemenu-border-color-search': sidemenu.borderColorSearch,\n\n\t\t// dropdown\n\t\t'--chat-dropdown-bg-color': dropdown.background,\n\t\t'--chat-dropdown-bg-color-hover': dropdown.backgroundHover,\n\n\t\t// message\n\t\t'--chat-message-bg-color': message.background,\n\t\t'--chat-message-bg-color-me': message.backgroundMe,\n\t\t'--chat-message-color-started': message.colorStarted,\n\t\t'--chat-message-bg-color-deleted': message.backgroundDeleted,\n\t\t'--chat-message-color-deleted': message.colorDeleted,\n\t\t'--chat-message-color-username': message.colorUsername,\n\t\t'--chat-message-color-timestamp': message.colorTimestamp,\n\t\t'--chat-message-bg-color-date': message.backgroundDate,\n\t\t'--chat-message-color-date': message.colorDate,\n\t\t'--chat-message-color': message.color,\n\t\t'--chat-message-bg-color-reply': message.backgroundReply,\n\t\t'--chat-message-color-reply-username': message.colorReplyUsername,\n\t\t'--chat-message-color-reply-content': message.colorReply,\n\t\t'--chat-message-bg-color-image': message.backgroundImage,\n\t\t'--chat-message-color-new-messages': message.colorNewMessages,\n\t\t'--chat-message-bg-color-reaction': message.backgroundReaction,\n\t\t'--chat-message-border-style-reaction': message.borderStyleReaction,\n\t\t'--chat-message-bg-color-reaction-hover': message.backgroundReactionHover,\n\t\t'--chat-message-border-style-reaction-hover':\n\t\t\tmessage.borderStyleReactionHover,\n\t\t'--chat-message-color-reaction-counter': message.colorReactionCounter,\n\t\t'--chat-message-bg-color-reaction-me': message.backgroundReactionMe,\n\t\t'--chat-message-border-style-reaction-me': message.borderStyleReactionMe,\n\t\t'--chat-message-bg-color-reaction-hover-me':\n\t\t\tmessage.backgroundReactionHoverMe,\n\t\t'--chat-message-border-style-reaction-hover-me':\n\t\t\tmessage.borderStyleReactionHoverMe,\n\t\t'--chat-message-color-reaction-counter-me': message.colorReactionCounterMe,\n\n\t\t// markdown\n\t\t'--chat-markdown-bg': markdown.background,\n\t\t'--chat-markdown-border': markdown.border,\n\t\t'--chat-markdown-color': markdown.color,\n\t\t'--chat-markdown-color-multi': markdown.colorMulti,\n\n\t\t// room\n\t\t'--chat-room-color-username': room.colorUsername,\n\t\t'--chat-room-color-message': room.colorMessage,\n\t\t'--chat-room-color-timestamp': room.colorTimestamp,\n\t\t'--chat-room-color-online': room.colorStateOnline,\n\t\t'--chat-room-color-offline': room.colorStateOffline,\n\n\t\t// emoji\n\t\t'--chat-emoji-bg-color': emoji.background,\n\n\t\t// icons\n\t\t'--chat-icon-color-search': icons.search,\n\t\t'--chat-icon-color-add': icons.add,\n\t\t'--chat-icon-color-toggle': icons.toggle,\n\t\t'--chat-icon-color-menu': icons.menu,\n\t\t'--chat-icon-color-close': icons.close,\n\t\t'--chat-icon-color-close-image': icons.closeImage,\n\t\t'--chat-icon-color-file': icons.file,\n\t\t'--chat-icon-color-paperclip': icons.paperclip,\n\t\t'--chat-icon-color-close-outline': icons.closeOutline,\n\t\t'--chat-icon-color-send': icons.send,\n\t\t'--chat-icon-color-send-disabled': icons.sendDisabled,\n\t\t'--chat-icon-color-emoji': icons.emoji,\n\t\t'--chat-icon-color-emoji-reaction': icons.emojiReaction,\n\t\t'--chat-icon-color-document': icons.document,\n\t\t'--chat-icon-color-pencil': icons.pencil,\n\t\t'--chat-icon-color-checkmark': icons.checkmark,\n\t\t'--chat-icon-color-eye': icons.eye,\n\t\t'--chat-icon-color-dropdown-message': icons.dropdownMessage,\n\t\t'--chat-icon-bg-dropdown-message': icons.dropdownMessageBackground,\n\t\t'--chat-icon-color-dropdown-scroll': icons.dropdownScroll\n\t}\n}\n","<template>\n\t<div class=\"card-window\" :style=\"[{ height }, cssVars]\">\n\t\t<div class=\"chat-container\">\n\t\t\t<rooms-list\n\t\t\t\tv-if=\"!singleRoom\"\n\t\t\t\t:currentUserId=\"currentUserId\"\n\t\t\t\t:rooms=\"orderedRooms\"\n\t\t\t\t:loadingRooms=\"loadingRooms\"\n\t\t\t\t:room=\"room\"\n\t\t\t\t:textMessages=\"t\"\n\t\t\t\t:showAddRoom=\"showAddRoom\"\n\t\t\t\t:showRoomsList=\"showRoomsList\"\n\t\t\t\t:textFormatting=\"textFormatting\"\n\t\t\t\t:isMobile=\"isMobile\"\n\t\t\t\t@fetchRoom=\"fetchRoom\"\n\t\t\t\t@addRoom=\"addRoom\"\n\t\t\t>\n\t\t\t\t<template v-slot:rooms-header>\n\t\t\t\t\t<slot name=\"rooms-header\"></slot>\n\t\t\t\t</template>\n\t\t\t</rooms-list>\n\n\t\t\t<room\n\t\t\t\t:currentUserId=\"currentUserId\"\n\t\t\t\t:rooms=\"rooms\"\n\t\t\t\t:roomId=\"room.roomId || ''\"\n\t\t\t\t:messages=\"messages\"\n\t\t\t\t:roomMessage=\"roomMessage\"\n\t\t\t\t:messagesLoaded=\"messagesLoaded\"\n\t\t\t\t:menuActions=\"menuActions\"\n\t\t\t\t:messageActions=\"messageActions\"\n\t\t\t\t:showFiles=\"showFiles\"\n\t\t\t\t:showEmojis=\"showEmojis\"\n\t\t\t\t:showReactionEmojis=\"showReactionEmojis\"\n\t\t\t\t:textMessages=\"t\"\n\t\t\t\t:singleRoom=\"singleRoom\"\n\t\t\t\t:showRoomsList=\"showRoomsList\"\n\t\t\t\t:textFormatting=\"textFormatting\"\n\t\t\t\t:isMobile=\"isMobile\"\n\t\t\t\t:loadingRooms=\"loadingRooms\"\n\t\t\t\t:roomInfo=\"$listeners.roomInfo\"\n\t\t\t\t@toggleRoomsList=\"toggleRoomsList\"\n\t\t\t\t@roomInfo=\"roomInfo\"\n\t\t\t\t@fetchMessages=\"fetchMessages\"\n\t\t\t\t@sendMessage=\"sendMessage\"\n\t\t\t\t@editMessage=\"editMessage\"\n\t\t\t\t@deleteMessage=\"deleteMessage\"\n\t\t\t\t@openFile=\"openFile\"\n\t\t\t\t@menuActionHandler=\"menuActionHandler\"\n\t\t\t\t@messageActionHandler=\"messageActionHandler\"\n\t\t\t\t@sendMessageReaction=\"sendMessageReaction\"\n\t\t\t\t@typingMessage=\"typingMessage\"\n\t\t\t>\n\t\t\t</room>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport RoomsList from './RoomsList'\nimport Room from './Room'\n\nimport locales from '../locales'\nimport { defaultThemeStyles, cssThemeVars } from '../themes'\nconst { roomsValid, partcipantsValid } = require('../utils/roomValidation')\n\nexport default {\n\tname: 'chat-container',\n\tcomponents: {\n\t\tRoomsList,\n\t\tRoom\n\t},\n\n\tprops: {\n\t\theight: { type: String, default: '600px' },\n\t\ttheme: { type: String, default: 'light' },\n\t\tstyles: { type: Object, default: () => ({}) },\n\t\tresponsiveBreakpoint: { type: Number, default: 900 },\n\t\tsingleRoom: { type: Boolean, default: false },\n\t\ttextMessages: { type: Object, default: null },\n\t\tcurrentUserId: { type: [String, Number], default: '' },\n\t\trooms: { type: Array, default: () => [] },\n\t\tloadingRooms: { type: Boolean, default: false },\n\t\troomId: { type: [String, Number], default: null },\n\t\tmessages: { type: Array, default: () => [] },\n\t\tmessagesLoaded: { type: Boolean, default: false },\n\t\tmenuActions: { type: Array, default: () => [] },\n\t\tmessageActions: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [\n\t\t\t\t{ name: 'replyMessage', title: 'Reply' },\n\t\t\t\t{ name: 'editMessage', title: 'Edit Message', onlyMe: true },\n\t\t\t\t{ name: 'deleteMessage', title: 'Delete Message', onlyMe: true }\n\t\t\t]\n\t\t},\n\t\tshowAddRoom: { type: Boolean, default: true },\n\t\tshowFiles: { type: Boolean, default: true },\n\t\tshowEmojis: { type: Boolean, default: true },\n\t\tshowReactionEmojis: { type: Boolean, default: true },\n\t\ttextFormatting: { type: Boolean, default: true },\n\t\tnewMessage: { type: Object, default: null },\n\t\troomMessage: { type: String, default: '' }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\troom: {},\n\t\t\tshowRoomsList: true,\n\t\t\tisMobile: false\n\t\t}\n\t},\n\n\twatch: {\n\t\trooms(newVal, oldVal) {\n\t\t\tif (newVal[0] && newVal.length !== oldVal.length) {\n\t\t\t\tif (this.roomId) {\n\t\t\t\t\tconst room = newVal.find(r => r.roomId === this.roomId)\n\t\t\t\t\tthis.fetchRoom({ room })\n\t\t\t\t} else if (!this.isMobile) {\n\t\t\t\t\tthis.fetchRoom({ room: this.orderedRooms[0] })\n\t\t\t\t} else {\n\t\t\t\t\tthis.showRoomsList = true\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\troomId: {\n\t\t\timmediate: true,\n\t\t\thandler(val) {\n\t\t\t\tif (val && !this.loadingRooms && this.rooms.length) {\n\t\t\t\t\tconst room = this.rooms.find(r => r.roomId === val)\n\t\t\t\t\tthis.fetchRoom({ room })\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\troom(val) {\n\t\t\tif (!val) return\n\n\t\t\tif (Object.entries(val).length === 0) return\n\n\t\t\tif (!roomsValid(val)) {\n\t\t\t\tthrow 'Rooms object is not valid! Must contain roomId[String, Number], roomName[String] and users[Array]'\n\t\t\t}\n\n\t\t\tval.users.forEach(user => {\n\t\t\t\tif (!partcipantsValid(user)) {\n\t\t\t\t\tthrow 'Participants object is not valid! Must contain _id[String, Number] and username[String]'\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\tnewMessage(val) {\n\t\t\tthis.$set(this.messages, val.index, val.message)\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.updateResponsive()\n\t\twindow.addEventListener('resize', ev => {\n\t\t\tif (ev.isTrusted) this.updateResponsive()\n\t\t})\n\t},\n\n\tcomputed: {\n\t\tt() {\n\t\t\treturn {\n\t\t\t\t...locales,\n\t\t\t\t...this.textMessages\n\t\t\t}\n\t\t},\n\t\tcssVars() {\n\t\t\tconst defaultStyles = defaultThemeStyles[this.theme]\n\t\t\tconst customStyles = {}\n\n\t\t\tObject.keys(defaultStyles).map(key => {\n\t\t\t\tcustomStyles[key] = {\n\t\t\t\t\t...defaultStyles[key],\n\t\t\t\t\t...(this.styles[key] || {})\n\t\t\t\t}\n\t\t\t})\n\n\t\t\treturn cssThemeVars(customStyles)\n\t\t},\n\t\torderedRooms() {\n\t\t\treturn this.rooms.slice().sort((a, b) => {\n\t\t\t\tconst aVal = a.lastMessage || { date: 0 }\n\t\t\t\tconst bVal = b.lastMessage || { date: 0 }\n\n\t\t\t\treturn aVal.date > bVal.date ? -1 : bVal.date > aVal.date ? 1 : 0\n\t\t\t})\n\t\t}\n\t},\n\n\tmethods: {\n\t\tupdateResponsive() {\n\t\t\tthis.isMobile = window.innerWidth < this.responsiveBreakpoint\n\t\t},\n\t\ttoggleRoomsList() {\n\t\t\tthis.showRoomsList = !this.showRoomsList\n\t\t\tif (this.isMobile) this.room = {}\n\t\t},\n\t\tfetchRoom({ room }) {\n\t\t\tthis.room = room\n\t\t\tthis.fetchMessages({ reset: true })\n\t\t\tif (this.isMobile) this.showRoomsList = false\n\t\t},\n\t\troomInfo() {\n\t\t\tthis.$emit('roomInfo', this.room)\n\t\t},\n\t\taddRoom() {\n\t\t\tthis.$emit('addRoom')\n\t\t},\n\t\tfetchMessages(options) {\n\t\t\tthis.$emit('fetchMessages', { room: this.room, options })\n\t\t},\n\t\tsendMessage(message) {\n\t\t\tthis.$emit('sendMessage', { ...message, roomId: this.room.roomId })\n\t\t},\n\t\teditMessage(message) {\n\t\t\tthis.$emit('editMessage', { ...message, roomId: this.room.roomId })\n\t\t},\n\t\tdeleteMessage(messageId) {\n\t\t\tthis.$emit('deleteMessage', { messageId, roomId: this.room.roomId })\n\t\t},\n\t\topenFile(message) {\n\t\t\tthis.$emit('openFile', message)\n\t\t},\n\t\tmenuActionHandler(ev) {\n\t\t\tthis.$emit('menuActionHandler', { action: ev, roomId: this.room.roomId })\n\t\t},\n\t\tmessageActionHandler(ev) {\n\t\t\tthis.$emit('messageActionHandler', {\n\t\t\t\t...ev,\n\t\t\t\troomId: this.room.roomId\n\t\t\t})\n\t\t},\n\t\tsendMessageReaction(messageReaction) {\n\t\t\tthis.$emit('sendMessageReaction', {\n\t\t\t\t...messageReaction,\n\t\t\t\troomId: this.room.roomId\n\t\t\t})\n\t\t},\n\t\ttypingMessage(message) {\n\t\t\tthis.$emit('typingMessage', {\n\t\t\t\tmessage,\n\t\t\t\troomId: this.room.roomId\n\t\t\t})\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n@import '../styles/index.scss';\n\n* {\n\tfont-family: inherit;\n}\n\na {\n\tcolor: #0d579c;\n}\n\n.card-window {\n\twidth: 100%;\n\tdisplay: block;\n\tmax-width: 100%;\n\tbackground: var(--chat-content-bg-color);\n\tcolor: var(--chat-color);\n\toverflow-wrap: break-word;\n\tposition: relative;\n\twhite-space: normal;\n\tborder: var(--chat-container-border);\n\tborder-radius: var(--chat-container-border-radius);\n\tbox-shadow: var(--chat-container-box-shadow);\n}\n\n.chat-container {\n\theight: 100%;\n\tdisplay: flex;\n\n\ttextarea,\n\tinput[type='text'],\n\tinput[type='search'] {\n\t\t-webkit-appearance: none;\n\t}\n}\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatWindow.vue?vue&type=template&id=03b9d10a&\"\nimport script from \"./ChatWindow.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatWindow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatWindow.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import ChatWindow from './ChatWindow'\n\nObject.defineProperty(ChatWindow, 'install', {\n\tconfigurable: false,\n\tenumerable: false,\n\tvalue(Vue) {\n\t\tVue.component('chat-window', ChatWindow)\n\t}\n})\n\nexport default ChatWindow\n","<template>\n\t<div class=\"window-container\">\n\t\t<div class=\"chat-forms\">\n\t\t\t<form @submit.prevent=\"createRoom\" v-if=\"addNewRoom\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Add username to create a room\"\n\t\t\t\t\tv-model=\"addRoomUsername\"\n\t\t\t\t/>\n\t\t\t\t<button type=\"submit\" :disabled=\"disableForm || !addRoomUsername\">\n\t\t\t\t\tCreate Room\n\t\t\t\t</button>\n\t\t\t\t<button class=\"button-cancel\" @click=\"addNewRoom = false\">\n\t\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t</form>\n\n\t\t\t<form @submit.prevent=\"addRoomUser\" v-if=\"inviteRoomId\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Add user to the room\"\n\t\t\t\t\tv-model=\"invitedUsername\"\n\t\t\t\t/>\n\t\t\t\t<button type=\"submit\" :disabled=\"disableForm || !invitedUsername\">\n\t\t\t\t\tAdd User\n\t\t\t\t</button>\n\t\t\t\t<button class=\"button-cancel\" @click=\"inviteRoomId = null\">\n\t\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t</form>\n\n\t\t\t<form @submit.prevent=\"deleteRoomUser\" v-if=\"removeRoomId\">\n\t\t\t\t<select v-model=\"removeUserId\">\n\t\t\t\t\t<option default value=\"\">Select User</option>\n\t\t\t\t\t<option v-for=\"user in removeUsers\" :key=\"user._id\" :value=\"user._id\">\n\t\t\t\t\t\t{{ user.username }}\n\t\t\t\t\t</option>\n\t\t\t\t</select>\n\t\t\t\t<button type=\"submit\" :disabled=\"disableForm || !removeUserId\">\n\t\t\t\t\tRemove User\n\t\t\t\t</button>\n\t\t\t\t<button class=\"button-cancel\" @click=\"removeRoomId = null\">\n\t\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</div>\n\n\t\t<chat-window\n\t\t\theight=\"calc(100vh - 80px)\"\n\t\t\t:theme=\"theme\"\n\t\t\t:styles=\"styles\"\n\t\t\t:currentUserId=\"currentUserId\"\n\t\t\t:rooms=\"rooms\"\n\t\t\t:loadingRooms=\"loadingRooms\"\n\t\t\t:messages=\"messages\"\n\t\t\t:messagesLoaded=\"messagesLoaded\"\n\t\t\t:menuActions=\"menuActions\"\n\t\t\t@fetchMessages=\"fetchMessages\"\n\t\t\t@sendMessage=\"sendMessage\"\n\t\t\t@editMessage=\"editMessage\"\n\t\t\t@deleteMessage=\"deleteMessage\"\n\t\t\t@openFile=\"openFile\"\n\t\t\t@addRoom=\"addRoom\"\n\t\t\t@menuActionHandler=\"menuActionHandler\"\n\t\t\t@messageActionHandler=\"messageActionHandler\"\n\t\t\t@sendMessageReaction=\"sendMessageReaction\"\n\t\t\t@typingMessage=\"typingMessage\"\n\t\t>\n\t\t</chat-window>\n\t</div>\n</template>\n\n<script>\nimport {\n\tfirebase,\n\troomsRef,\n\tusersRef,\n\tfilesRef,\n\tdeleteDbField\n} from '@/firestore'\nimport { parseTimestamp, isSameDay } from '@/utils/dates'\nimport ChatWindow from './../../src/ChatWindow'\n// import ChatWindow from 'vue-advanced-chat'\n// import 'vue-advanced-chat/dist/vue-advanced-chat.css'\n\nexport default {\n\tcomponents: {\n\t\tChatWindow\n\t},\n\n\tprops: ['currentUserId', 'theme'],\n\n\tdata() {\n\t\treturn {\n\t\t\tperPage: 20,\n\t\t\trooms: [],\n\t\t\tloadingRooms: true,\n\t\t\tselectedRoom: null,\n\t\t\tmessages: [],\n\t\t\tmessagesLoaded: false,\n\t\t\tstart: null,\n\t\t\tend: null,\n\t\t\troomsListeners: [],\n\t\t\tlisteners: [],\n\t\t\tdisableForm: false,\n\t\t\taddNewRoom: null,\n\t\t\taddRoomUsername: '',\n\t\t\tinviteRoomId: null,\n\t\t\tinvitedUsername: '',\n\t\t\tremoveRoomId: null,\n\t\t\tremoveUserId: '',\n\t\t\tremoveUsers: [],\n\t\t\tmenuActions: [\n\t\t\t\t{ name: 'inviteUser', title: 'Invite User' },\n\t\t\t\t{ name: 'removeUser', title: 'Remove User' },\n\t\t\t\t{ name: 'deleteRoom', title: 'Delete Room' }\n\t\t\t],\n\t\t\tstyles: { container: { borderRadius: '4px' } }\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.fetchRooms()\n\t\tthis.updateUserOnlineStatus()\n\t},\n\n\tdestroyed() {\n\t\tthis.resetRooms()\n\t},\n\n\tmethods: {\n\t\tmessagesRef(roomId) {\n\t\t\treturn roomsRef.doc(roomId).collection('messages')\n\t\t},\n\t\tresetRooms() {\n\t\t\tthis.loadingRooms = true\n\t\t\tthis.rooms = []\n\t\t\tthis.roomsListeners.forEach(listener => listener())\n\t\t\tthis.resetMessages()\n\t\t},\n\n\t\tresetMessages() {\n\t\t\tthis.messages = []\n\t\t\tthis.messagesLoaded = false\n\t\t\tthis.start = null\n\t\t\tthis.end = null\n\t\t\tthis.listeners.forEach(listener => listener())\n\t\t\tthis.listeners = []\n\t\t},\n\n\t\tasync fetchRooms() {\n\t\t\tthis.resetRooms()\n\n\t\t\tconst query = roomsRef.where(\n\t\t\t\t'users',\n\t\t\t\t'array-contains',\n\t\t\t\tthis.currentUserId\n\t\t\t)\n\n\t\t\tconst rooms = await query.get()\n\n\t\t\tconst roomList = []\n\t\t\tconst rawRoomUsers = []\n\t\t\tconst rawMessages = []\n\n\t\t\trooms.forEach(room => {\n\t\t\t\troomList[room.id] = { ...room.data(), users: [] }\n\n\t\t\t\tconst rawUsers = []\n\n\t\t\t\troom.data().users.map(userId => {\n\t\t\t\t\tconst promise = usersRef\n\t\t\t\t\t\t.doc(userId)\n\t\t\t\t\t\t.get()\n\t\t\t\t\t\t.then(user => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...user.data(),\n\t\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t\troomId: room.id,\n\t\t\t\t\t\t\t\t\tusername: user.data().username\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\n\t\t\t\t\trawUsers.push(promise)\n\t\t\t\t})\n\n\t\t\t\trawUsers.map(users => rawRoomUsers.push(users))\n\t\t\t\trawMessages.push(this.getLastMessage(room))\n\t\t\t})\n\n\t\t\tconst users = await Promise.all(rawRoomUsers)\n\n\t\t\tusers.map(user => roomList[user.roomId].users.push(user))\n\n\t\t\tconst roomMessages = await Promise.all(rawMessages).then(messages => {\n\t\t\t\treturn messages.map(message => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tlastMessage: this.formatLastMessage(message),\n\t\t\t\t\t\troomId: message.roomId\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\troomMessages.map(ms => (roomList[ms.roomId].lastMessage = ms.lastMessage))\n\n\t\t\tconst formattedRooms = []\n\n\t\t\tObject.keys(roomList).forEach(key => {\n\t\t\t\tconst room = roomList[key]\n\n\t\t\t\tconst roomContacts = room.users.filter(\n\t\t\t\t\tuser => user._id !== this.currentUserId\n\t\t\t\t)\n\n\t\t\t\troom.roomName =\n\t\t\t\t\troomContacts.map(user => user.username).join(', ') || 'Myself'\n\n\t\t\t\tconst roomAvatar =\n\t\t\t\t\troomContacts.length === 1 && roomContacts[0].avatar\n\t\t\t\t\t\t? roomContacts[0].avatar\n\t\t\t\t\t\t: require('@/assets/logo.png')\n\n\t\t\t\tformattedRooms.push({\n\t\t\t\t\t...{\n\t\t\t\t\t\troomId: key,\n\t\t\t\t\t\tavatar: roomAvatar,\n\t\t\t\t\t\t...room\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tthis.rooms = this.rooms.concat(formattedRooms)\n\t\t\tthis.loadingRooms = false\n\t\t\tthis.rooms.map((room, index) => this.listenLastMessage(room, index))\n\n\t\t\tthis.listenUsersOnlineStatus()\n\t\t\tthis.listenRoomsTypingUsers(query)\n\t\t},\n\n\t\tgetLastMessage(room) {\n\t\t\treturn this.messagesRef(room.id)\n\t\t\t\t.orderBy('timestamp', 'desc')\n\t\t\t\t.limit(1)\n\t\t\t\t.get()\n\t\t\t\t.then(messages => {\n\t\t\t\t\tconst array = []\n\t\t\t\t\tmessages.forEach(m => array.push(m.data()))\n\t\t\t\t\treturn { ...array[0], roomId: room.id }\n\t\t\t\t})\n\t\t},\n\n\t\tlistenLastMessage(room, index) {\n\t\t\tconst listener = this.messagesRef(room.roomId)\n\t\t\t\t.orderBy('timestamp', 'desc')\n\t\t\t\t.limit(1)\n\t\t\t\t.onSnapshot(messages => {\n\t\t\t\t\tmessages.forEach(message => {\n\t\t\t\t\t\tconst lastMessage = this.formatLastMessage(message.data())\n\t\t\t\t\t\tthis.rooms[index].lastMessage = lastMessage\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\tthis.roomsListeners.push(listener)\n\t\t},\n\n\t\tformatLastMessage(message) {\n\t\t\tif (!message.timestamp) return\n\t\t\tconst date = new Date(message.timestamp.seconds * 1000)\n\t\t\tconst timestampFormat = isSameDay(date, new Date()) ? 'HH:mm' : 'DD/MM/YY'\n\n\t\t\tlet timestamp = parseTimestamp(message.timestamp, timestampFormat)\n\t\t\tif (timestampFormat === 'HH:mm') timestamp = `Today, ${timestamp}`\n\n\t\t\tlet content = message.content\n\t\t\tif (message.file) content = `${message.file.name}.${message.file.type}`\n\n\t\t\treturn {\n\t\t\t\t...message,\n\t\t\t\t...{\n\t\t\t\t\tcontent,\n\t\t\t\t\ttimestamp,\n\t\t\t\t\tdate: message.timestamp.seconds,\n\t\t\t\t\tseen: message.sender_id === this.currentUserId ? message.seen : null,\n\t\t\t\t\tnew:\n\t\t\t\t\t\tmessage.sender_id !== this.currentUserId &&\n\t\t\t\t\t\t(!message.seen || !message.seen[this.currentUserId])\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tfetchMessages({ room, options = {} }) {\n\t\t\tif (options.reset) this.resetMessages()\n\n\t\t\tif (this.end && !this.start) return (this.messagesLoaded = true)\n\n\t\t\tlet ref = this.messagesRef(room.roomId)\n\n\t\t\tlet query = ref.orderBy('timestamp', 'desc').limit(this.perPage)\n\n\t\t\tif (this.start) query = query.startAfter(this.start)\n\n\t\t\tthis.selectedRoom = room.roomId\n\n\t\t\tquery.get().then(messages => {\n\t\t\t\tif (this.selectedRoom !== room.roomId) return\n\n\t\t\t\tif (messages.empty) this.messagesLoaded = true\n\n\t\t\t\tif (this.start) this.end = this.start\n\t\t\t\tthis.start = messages.docs[messages.docs.length - 1]\n\n\t\t\t\tlet listenerQuery = ref.orderBy('timestamp')\n\n\t\t\t\tif (this.start) listenerQuery = listenerQuery.startAfter(this.start)\n\t\t\t\tif (this.end) listenerQuery = listenerQuery.endAt(this.end)\n\n\t\t\t\tif (options.reset) this.messages = []\n\n\t\t\t\tmessages.forEach(message => {\n\t\t\t\t\tconst formattedMessage = this.formatMessage(room, message)\n\t\t\t\t\tthis.messages.unshift(formattedMessage)\n\t\t\t\t})\n\n\t\t\t\tconst listener = listenerQuery.onSnapshot(snapshots => {\n\t\t\t\t\tthis.listenMessages(snapshots, room)\n\t\t\t\t})\n\t\t\t\tthis.listeners.push(listener)\n\t\t\t})\n\t\t},\n\n\t\tlistenMessages(messages, room) {\n\t\t\tmessages.forEach(message => {\n\t\t\t\tconst formattedMessage = this.formatMessage(room, message)\n\t\t\t\tconst messageIndex = this.messages.findIndex(m => m._id === message.id)\n\n\t\t\t\tif (messageIndex === -1) {\n\t\t\t\t\tthis.messages = this.messages.concat([formattedMessage])\n\t\t\t\t} else {\n\t\t\t\t\tthis.$set(this.messages, messageIndex, formattedMessage)\n\t\t\t\t}\n\n\t\t\t\tthis.markMessagesSeen(room, message)\n\t\t\t})\n\t\t},\n\n\t\tmarkMessagesSeen(room, message) {\n\t\t\tif (\n\t\t\t\tmessage.data().sender_id !== this.currentUserId &&\n\t\t\t\t(!message.data().seen || !message.data().seen[this.currentUserId])\n\t\t\t) {\n\t\t\t\tthis.messagesRef(room.roomId)\n\t\t\t\t\t.doc(message.id)\n\t\t\t\t\t.update({\n\t\t\t\t\t\t[`seen.${this.currentUserId}`]: new Date()\n\t\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\tformatMessage(room, message) {\n\t\t\tconst senderUser = room.users.find(\n\t\t\t\tuser => message.data().sender_id === user._id\n\t\t\t)\n\n\t\t\tconst { sender_id, timestamp } = message.data()\n\n\t\t\treturn {\n\t\t\t\t...message.data(),\n\t\t\t\t...{\n\t\t\t\t\tsender_id,\n\t\t\t\t\t_id: message.id,\n\t\t\t\t\tseconds: timestamp.seconds,\n\t\t\t\t\ttimestamp: parseTimestamp(timestamp, 'HH:mm'),\n\t\t\t\t\tdate: parseTimestamp(timestamp, 'DD MMMM YYYY'),\n\t\t\t\t\tusername: senderUser ? senderUser.username : null\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tasync sendMessage({ content, roomId, file, replyMessage }) {\n\t\t\tconst message = {\n\t\t\t\tsender_id: this.currentUserId,\n\t\t\t\tcontent,\n\t\t\t\ttimestamp: new Date()\n\t\t\t}\n\n\t\t\tif (file) {\n\t\t\t\tmessage.file = {\n\t\t\t\t\tname: file.name,\n\t\t\t\t\tsize: file.size,\n\t\t\t\t\ttype: file.type,\n\t\t\t\t\turl: file.localUrl\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (replyMessage) {\n\t\t\t\tmessage.replyMessage = {\n\t\t\t\t\t_id: replyMessage._id,\n\t\t\t\t\tcontent: replyMessage.content,\n\t\t\t\t\tsender_id: replyMessage.sender_id\n\t\t\t\t}\n\n\t\t\t\tif (replyMessage.file) {\n\t\t\t\t\tmessage.replyMessage.file = replyMessage.file\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst { id } = await this.messagesRef(roomId).add(message)\n\n\t\t\tif (file) this.uploadFile({ file, messageId: id, roomId })\n\t\t},\n\n\t\topenFile(message) {\n\t\t\twindow.open(message.file.url, '_blank')\n\t\t},\n\n\t\tasync editMessage({ messageId, newContent, roomId, file }) {\n\t\t\tconst newMessage = { edited: new Date() }\n\t\t\tnewMessage.content = newContent\n\n\t\t\tif (file) {\n\t\t\t\tnewMessage.file = {\n\t\t\t\t\tname: file.name,\n\t\t\t\t\tsize: file.size,\n\t\t\t\t\ttype: file.type,\n\t\t\t\t\turl: file.url || file.localUrl\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnewMessage.file = deleteDbField\n\t\t\t}\n\n\t\t\tawait this.messagesRef(roomId)\n\t\t\t\t.doc(messageId)\n\t\t\t\t.update(newMessage)\n\t\t},\n\n\t\tasync deleteMessage({ messageId, roomId }) {\n\t\t\tawait this.messagesRef(roomId)\n\t\t\t\t.doc(messageId)\n\t\t\t\t.update({ deleted: new Date() })\n\t\t},\n\n\t\tasync uploadFile({ file, messageId, roomId }) {\n\t\t\tconst uploadFileRef = filesRef\n\t\t\t\t.child(this.currentUserId)\n\t\t\t\t.child(messageId)\n\t\t\t\t.child(`${file.name}.${file.type}`)\n\n\t\t\tawait uploadFileRef.put(file.blob, { contentType: file.type })\n\t\t\tconst url = await uploadFileRef.getDownloadURL()\n\n\t\t\tawait this.messagesRef(roomId)\n\t\t\t\t.doc(messageId)\n\t\t\t\t.update({\n\t\t\t\t\t['file.url']: url\n\t\t\t\t})\n\t\t},\n\n\t\tmenuActionHandler({ action, roomId }) {\n\t\t\tswitch (action.name) {\n\t\t\t\tcase 'inviteUser':\n\t\t\t\t\treturn this.inviteUser(roomId)\n\t\t\t\tcase 'removeUser':\n\t\t\t\t\treturn this.removeUser(roomId)\n\t\t\t\tcase 'deleteRoom':\n\t\t\t\t\treturn this.deleteRoom(roomId)\n\t\t\t}\n\t\t},\n\n\t\tmessageActionHandler() {\n\t\t\t// do something\n\t\t},\n\n\t\tasync sendMessageReaction({ reaction, remove, messageId, roomId }) {\n\t\t\tconst dbAction = remove\n\t\t\t\t? firebase.firestore.FieldValue.arrayRemove(this.currentUserId)\n\t\t\t\t: firebase.firestore.FieldValue.arrayUnion(this.currentUserId)\n\n\t\t\tawait this.messagesRef(roomId)\n\t\t\t\t.doc(messageId)\n\t\t\t\t.update({\n\t\t\t\t\t[`reactions.${reaction.name}`]: dbAction\n\t\t\t\t})\n\t\t},\n\n\t\ttypingMessage({ message, roomId }) {\n\t\t\tconst dbAction = message\n\t\t\t\t? firebase.firestore.FieldValue.arrayUnion(this.currentUserId)\n\t\t\t\t: firebase.firestore.FieldValue.arrayRemove(this.currentUserId)\n\n\t\t\troomsRef.doc(roomId).update({\n\t\t\t\ttypingUsers: dbAction\n\t\t\t})\n\t\t},\n\n\t\tasync listenRoomsTypingUsers(query) {\n\t\t\tquery.onSnapshot(rooms => {\n\t\t\t\trooms.forEach(room => {\n\t\t\t\t\tconst foundRoom = this.rooms.find(r => r.roomId === room.id)\n\t\t\t\t\tif (foundRoom) foundRoom.typingUsers = room.data().typingUsers\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\n\t\tupdateUserOnlineStatus() {\n\t\t\tconst userStatusRef = firebase\n\t\t\t\t.database()\n\t\t\t\t.ref('/status/' + this.currentUserId)\n\n\t\t\tconst isOfflineData = {\n\t\t\t\tstate: 'offline',\n\t\t\t\tlast_changed: firebase.database.ServerValue.TIMESTAMP\n\t\t\t}\n\n\t\t\tconst isOnlineData = {\n\t\t\t\tstate: 'online',\n\t\t\t\tlast_changed: firebase.database.ServerValue.TIMESTAMP\n\t\t\t}\n\n\t\t\tfirebase\n\t\t\t\t.database()\n\t\t\t\t.ref('.info/connected')\n\t\t\t\t.on('value', snapshot => {\n\t\t\t\t\tif (snapshot.val() == false) return\n\n\t\t\t\t\tuserStatusRef\n\t\t\t\t\t\t.onDisconnect()\n\t\t\t\t\t\t.set(isOfflineData)\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tuserStatusRef.set(isOnlineData)\n\t\t\t\t\t\t})\n\t\t\t\t})\n\t\t},\n\n\t\tlistenUsersOnlineStatus() {\n\t\t\tthis.rooms.map(room => {\n\t\t\t\troom.users.map(user => {\n\t\t\t\t\tfirebase\n\t\t\t\t\t\t.database()\n\t\t\t\t\t\t.ref('/status/' + user._id)\n\t\t\t\t\t\t.on('value', snapshot => {\n\t\t\t\t\t\t\tif (!snapshot.val()) return\n\n\t\t\t\t\t\t\tconst timestampFormat = isSameDay(\n\t\t\t\t\t\t\t\tnew Date(snapshot.val().last_changed),\n\t\t\t\t\t\t\t\tnew Date()\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t? 'HH:mm'\n\t\t\t\t\t\t\t\t: 'DD MMMM, HH:mm'\n\n\t\t\t\t\t\t\tconst timestamp = parseTimestamp(\n\t\t\t\t\t\t\t\tnew Date(snapshot.val().last_changed),\n\t\t\t\t\t\t\t\ttimestampFormat\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\tconst last_changed =\n\t\t\t\t\t\t\t\ttimestampFormat === 'HH:mm' ? `today, ${timestamp}` : timestamp\n\n\t\t\t\t\t\t\tuser.status = { ...snapshot.val(), last_changed }\n\n\t\t\t\t\t\t\tconst roomIndex = this.rooms.findIndex(\n\t\t\t\t\t\t\t\tr => room.roomId === r.roomId\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\tthis.$set(this.rooms, roomIndex, room)\n\t\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\n\t\taddRoom() {\n\t\t\tthis.resetForms()\n\t\t\tthis.addNewRoom = true\n\t\t},\n\n\t\tasync createRoom() {\n\t\t\tthis.disableForm = true\n\n\t\t\tconst { id } = await usersRef.add({ username: this.addRoomUsername })\n\t\t\tawait usersRef.doc(id).update({ _id: id })\n\t\t\tawait roomsRef.add({ users: [id, this.currentUserId] })\n\n\t\t\tthis.addNewRoom = false\n\t\t\tthis.addRoomUsername = ''\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tinviteUser(roomId) {\n\t\t\tthis.resetForms()\n\t\t\tthis.inviteRoomId = roomId\n\t\t},\n\n\t\tasync addRoomUser() {\n\t\t\tthis.disableForm = true\n\n\t\t\tconst { id } = await usersRef.add({ username: this.invitedUsername })\n\t\t\tawait usersRef.doc(id).update({ _id: id })\n\n\t\t\tawait roomsRef\n\t\t\t\t.doc(this.inviteRoomId)\n\t\t\t\t.update({ users: firebase.firestore.FieldValue.arrayUnion(id) })\n\n\t\t\tthis.inviteRoomId = null\n\t\t\tthis.invitedUsername = ''\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tremoveUser(roomId) {\n\t\t\tthis.resetForms()\n\t\t\tthis.removeRoomId = roomId\n\t\t\tthis.removeUsers = this.rooms.find(room => room.roomId === roomId).users\n\t\t},\n\n\t\tasync deleteRoomUser() {\n\t\t\tthis.disableForm = true\n\n\t\t\tawait roomsRef.doc(this.removeRoomId).update({\n\t\t\t\tusers: firebase.firestore.FieldValue.arrayRemove(this.removeUserId)\n\t\t\t})\n\n\t\t\tthis.removeRoomId = null\n\t\t\tthis.removeUserId = ''\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tasync deleteRoom(roomId) {\n\t\t\tconst ref = this.messagesRef(roomId)\n\n\t\t\tref.get().then(res => {\n\t\t\t\tif (res.empty) return\n\t\t\t\tres.docs.map(doc => ref.doc(doc.id).delete())\n\t\t\t})\n\n\t\t\tawait roomsRef.doc(roomId).delete()\n\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tresetForms() {\n\t\t\tthis.disableForm = false\n\t\t\tthis.addNewRoom = null\n\t\t\tthis.addRoomUsername = ''\n\t\t\tthis.inviteRoomId = null\n\t\t\tthis.invitedUsername = ''\n\t\t\tthis.removeRoomId = null\n\t\t\tthis.removeUserId = ''\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.window-container {\n\twidth: 100%;\n}\n\n.chat-forms {\n\tpadding-bottom: 20px;\n\n\tform {\n\t\tpadding-top: 20px;\n\t}\n\n\tinput {\n\t\tpadding: 5px;\n\t\twidth: 180px;\n\t\theight: 21px;\n\t\tborder-radius: 4px;\n\t\tborder: 1px solid #d2d6da;\n\t\toutline: none;\n\t\tfont-size: 14px;\n\t\tvertical-align: middle;\n\n\t\t&::placeholder {\n\t\t\tcolor: #9ca6af;\n\t\t}\n\t}\n\n\tbutton {\n\t\tbackground: #1976d2;\n\t\tcolor: #fff;\n\t\toutline: none;\n\t\tcursor: pointer;\n\t\tborder-radius: 4px;\n\t\tpadding: 8px 12px;\n\t\tmargin-left: 10px;\n\t\tborder: none;\n\t\tfont-size: 14px;\n\t\ttransition: 0.3s;\n\t\tvertical-align: middle;\n\n\t\t&:hover {\n\t\t\topacity: 0.8;\n\t\t}\n\n\t\t&:active {\n\t\t\topacity: 0.6;\n\t\t}\n\n\t\t&:disabled {\n\t\t\tcursor: initial;\n\t\t\tbackground: #c6c9cc;\n\t\t\topacity: 0.6;\n\t\t}\n\t}\n\n\t.button-cancel {\n\t\tcolor: #a8aeb3;\n\t\tbackground: none;\n\t\tmargin-left: 5px;\n\t}\n\n\tselect {\n\t\tvertical-align: middle;\n\t\theight: 33px;\n\t\twidth: 120px;\n\t\tfont-size: 13px;\n\t}\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatContainer.vue?vue&type=template&id=237f3d2a&scoped=true&\"\nimport script from \"./ChatContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatContainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatContainer.vue?vue&type=style&index=0&id=237f3d2a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"237f3d2a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div>\n\t\t<div class=\"app-container\">\n\t\t\t<!-- <div>\n\t\t\t\t<button @click=\"resetData\">Clear Data</button>\n\t\t\t\t<button @click=\"addData\" :disabled=\"updatingData\">Add Data</button>\n\t\t\t</div> -->\n\t\t\t<span class=\"user-logged\">Logged as</span>\n\t\t\t<select v-model=\"currentUserId\">\n\t\t\t\t<option v-for=\"user in users\" :key=\"user._id\" :value=\"user._id\">\n\t\t\t\t\t{{ user.username }}\n\t\t\t\t</option>\n\t\t\t</select>\n\n\t\t\t<div class=\"button-theme\">\n\t\t\t\t<button @click=\"theme = 'light'\" class=\"button-light\">Light</button>\n\t\t\t\t<button @click=\"theme = 'dark'\" class=\"button-dark\">Dark</button>\n\t\t\t</div>\n\n\t\t\t<chat-container\n\t\t\t\t:currentUserId=\"currentUserId\"\n\t\t\t\t:theme=\"theme\"\n\t\t\t\tv-if=\"showChat\"\n\t\t\t/>\n\n\t\t\t<!-- <div class=\"version-container\">\n\t\t\t\tv1.0.0\n\t\t\t</div> -->\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { roomsRef, usersRef } from '@/firestore'\nimport ChatContainer from './ChatContainer'\n\nexport default {\n\tcomponents: {\n\t\tChatContainer\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\ttheme: 'light',\n\t\t\tshowChat: true,\n\t\t\tusers: [\n\t\t\t\t{\n\t\t\t\t\t_id: '6R0MijpK6M4AIrwaaCY2',\n\t\t\t\t\tusername: 'Luke',\n\t\t\t\t\tavatar: 'https://66.media.tumblr.com/avatar_c6a8eae4303e_512.pnj'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t_id: 'SGmFnBZB4xxMv9V4CVlW',\n\t\t\t\t\tusername: 'Leia',\n\t\t\t\t\tavatar: 'https://avatarfiles.alphacoders.com/184/thumb-184913.jpg'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t_id: '6jMsIXUrBHBj7o2cRlau',\n\t\t\t\t\tusername: 'Yoda',\n\t\t\t\t\tavatar:\n\t\t\t\t\t\t'https://vignette.wikia.nocookie.net/teamavatarone/images/4/45/Yoda.jpg/revision/latest?cb=20130224160049'\n\t\t\t\t}\n\t\t\t],\n\t\t\tcurrentUserId: '6R0MijpK6M4AIrwaaCY2',\n\t\t\tupdatingData: false\n\t\t}\n\t},\n\n\twatch: {\n\t\tcurrentUserId() {\n\t\t\tthis.showChat = false\n\t\t\tsetTimeout(() => (this.showChat = true), 150)\n\t\t}\n\t},\n\n\tmethods: {\n\t\tresetData() {\n\t\t\troomsRef.get().then(val => {\n\t\t\t\tval.forEach(async val => {\n\t\t\t\t\tconst ref = roomsRef.doc(val.id).collection('messages')\n\n\t\t\t\t\tawait ref.get().then(res => {\n\t\t\t\t\t\tif (res.empty) return\n\t\t\t\t\t\tres.docs.map(doc => ref.doc(doc.id).delete())\n\t\t\t\t\t})\n\n\t\t\t\t\troomsRef.doc(val.id).delete()\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tusersRef.get().then(val => {\n\t\t\t\tval.forEach(val => {\n\t\t\t\t\tusersRef.doc(val.id).delete()\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tasync addData() {\n\t\t\tthis.updatingData = true\n\n\t\t\tconst user1 = this.users[0]\n\t\t\tawait usersRef.doc(user1._id).set(user1)\n\n\t\t\tconst user2 = this.users[1]\n\t\t\tawait usersRef.doc(user2._id).set(user2)\n\n\t\t\tconst user3 = this.users[2]\n\t\t\tawait usersRef.doc(user3._id).set(user3)\n\n\t\t\tawait roomsRef.add({ users: [user1._id, user2._id] })\n\t\t\tawait roomsRef.add({ users: [user1._id, user3._id] })\n\t\t\tawait roomsRef.add({ users: [user2._id, user3._id] })\n\t\t\tawait roomsRef.add({ users: [user1._id, user2._id, user3._id] })\n\n\t\t\tthis.updatingData = false\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\nbody {\n\tbackground: #fafafa;\n}\n\n.app-container {\n\tfont-family: 'Quicksand', sans-serif;\n\tpadding: 10px 20px 20px;\n\n\t@media only screen and (max-width: 768px) {\n\t\tpadding: 0;\n\t}\n}\n\nselect {\n\theight: 20px;\n\toutline: none;\n\tborder: 1px solid #e0e2e4;\n\tbackground: #fff;\n}\n\n.user-logged {\n\tfont-size: 12px;\n\tmargin-right: 5px;\n}\n\n.button-theme {\n\tfloat: right;\n\n\t.button-light {\n\t\tbackground: #fff;\n\t\tborder: 1px solid #46484e;\n\t\tcolor: #46484e;\n\t}\n\n\t.button-dark {\n\t\tbackground: #1c1d21;\n\t\tborder: 1px solid #1c1d21;\n\t}\n\n\tbutton {\n\t\tcolor: #fff;\n\t\toutline: none;\n\t\tcursor: pointer;\n\t\tborder-radius: 4px;\n\t\tpadding: 6px 12px;\n\t\tmargin-left: 10px;\n\t\tborder: none;\n\t\tfont-size: 14px;\n\t\ttransition: 0.3s;\n\t\tvertical-align: middle;\n\n\t\t&:hover {\n\t\t\topacity: 0.8;\n\t\t}\n\n\t\t&:active {\n\t\t\topacity: 0.6;\n\t\t}\n\n\t\t@media only screen and (max-width: 768px) {\n\t\t\tpadding: 3px 6px;\n\t\t\tfont-size: 13px;\n\t\t}\n\t}\n}\n\n.version-container {\n\tpadding-top: 20px;\n\ttext-align: right;\n\tfont-size: 14px;\n\tcolor: grey;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=14b28508&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n\trender: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","export function roomsValid(obj) {\n\tconst roomsValidate = [\n\t\t{ key: 'roomId', type: ['string', 'number'] },\n\t\t{ key: 'roomName', type: ['string'] },\n\t\t{ key: 'users', type: ['array'] }\n\t]\n\n\tconst validate = (obj, props) => {\n\t\treturn props.every(prop => {\n\t\t\tlet validType = false\n\n\t\t\tif (prop.type[0] === 'array' && Array.isArray(obj[prop.key])) {\n\t\t\t\tvalidType = true\n\t\t\t} else if (prop.type.find(t => t === typeof obj[prop.key])) {\n\t\t\t\tvalidType = true\n\t\t\t}\n\n\t\t\treturn validType && checkObjectValid(obj, prop.key)\n\t\t})\n\t}\n\n\treturn validate(obj, roomsValidate)\n}\n\nexport function partcipantsValid(obj) {\n\tconst participantsValidate = [\n\t\t{ key: '_id', type: ['string', 'number'] },\n\t\t{ key: 'username', type: ['string'] }\n\t]\n\n\tconst validate = (obj, props) => {\n\t\treturn props.every(prop => {\n\t\t\tconst validType = prop.type.find(t => t === typeof obj[prop.key])\n\t\t\treturn validType && checkObjectValid(obj, prop.key)\n\t\t})\n\t}\n\n\treturn validate(obj, participantsValidate)\n}\n\nexport function messagesValid(obj) {\n\tconst participantsValidate = [\n\t\t{ key: '_id', type: ['string', 'number'] },\n\t\t{ key: 'content', type: ['string', 'number'] },\n\t\t{ key: 'sender_id', type: ['string', 'number'] }\n\t]\n\n\tconst validate = (obj, props) => {\n\t\treturn props.every(prop => {\n\t\t\tconst validType = prop.type.find(t => t === typeof obj[prop.key])\n\t\t\treturn validType && checkObjectValid(obj, prop.key)\n\t\t})\n\t}\n\n\treturn validate(obj, participantsValidate)\n}\n\nfunction checkObjectValid(obj, key) {\n\treturn obj.hasOwnProperty(key) && obj[key] !== null && obj[key] !== undefined\n}\n","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./FormatMessage.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./FormatMessage.vue?vue&type=style&index=0&lang=css&\"","export function detectMobile() {\n\tvar userAgent = getUserAgent()\n\n\tvar userAgentPart = userAgent.substr(0, 4)\n\n\treturn (\n\t\t/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(\n\t\t\tuserAgent\n\t\t) ||\n\t\t/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw(n|u)|c55\\/|capi|ccwa|cdm|cell|chtm|cldc|cmd|co(mp|nd)|craw|da(it|ll|ng)|dbte|dcs|devi|dica|dmob|do(c|p)o|ds(12|d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(|_)|g1 u|g560|gene|gf5|gmo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd(m|p|t)|hei|hi(pt|ta)|hp( i|ip)|hsc|ht(c(| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i(20|go|ma)|i230|iac( ||\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|[a-w])|libw|lynx|m1w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|mcr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|([1-8]|c))|phil|pire|pl(ay|uc)|pn2|po(ck|rt|se)|prox|psio|ptg|qaa|qc(07|12|21|32|60|[2-7]|i)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h|oo|p)|sdk\\/|se(c(|0|1)|47|mc|nd|ri)|sgh|shar|sie(|m)|sk0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h|v|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl|tdg|tel(i|m)|tim|tmo|to(pl|sh)|ts(70|m|m3|m5)|tx9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas|your|zeto|zte/i.test(\n\t\t\tuserAgentPart\n\t\t)\n\t)\n}\n\nfunction getUserAgent() {\n\tvar userAgent =\n\t\tnavigator.userAgent || navigator.vendor || window.opera || null\n\n\tif (!userAgent) throw new Error('Failed to look for user agent information.')\n\n\treturn userAgent\n}\n","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Room.vue?vue&type=style&index=0&id=2d42a88c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Room.vue?vue&type=style&index=0&id=2d42a88c&lang=scss&scoped=true&\"","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=style&index=0&id=e8c9dade&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=style&index=0&id=e8c9dade&lang=scss&scoped=true&\"","module.exports = \"data:image/png;base64,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\"","import mod from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=style&index=0&id=0b9bd2d4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPicker.vue?vue&type=style&index=0&id=0b9bd2d4&lang=scss&scoped=true&\""],"sourceRoot":""}